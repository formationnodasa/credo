


<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Champs Lexicaux ‚Äì Jeu Vocal</title>
  <style>
    :root{
      --bg1:#6a11cb; --bg2:#2575fc;
      --card: rgba(255,255,255,.12);
      --glass: blur(12px);
      --txt:#fff; --accent:#fff; --brand:#2575fc;
      --ok:#00e676; --ko:#ff5252;
    }
    *{box-sizing:border-box}
    body{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(270deg, var(--bg1), var(--bg2), var(--bg1));
      background-size: 600% 600%;
      animation: gradientAnimation 15s ease infinite;
      color: var(--txt);
      min-height: 100vh;
      margin: 0;
      display: grid;
      place-items: center;
      padding: 24px;
    }
    @keyframes gradientAnimation{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    .container{
      background: var(--card);
      backdrop-filter: var(--glass);
      width: min(920px, 94vw);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 8px 32px rgba(0,0,0,.25);
      animation: fadeIn .9s ease;
    }
    @keyframes fadeIn{from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)}}
    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap
    }
    h1{
      font-weight:800; margin:0; font-size: clamp(22px, 3.2vw, 34px);
      text-shadow: 0 3px 8px rgba(0,0,0,.3);
      letter-spacing:.3px;
    }
    .status{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; font-weight:600;
      opacity:.95;
    }
    .pill{
      padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.16);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.16);
      font-size:.95rem
    }
    .display{
      margin:24px 0 10px; display:grid; gap:10px;
    }
    #prefixDisplay{
      font-size: clamp(28px, 5vw, 48px);
      font-weight:900; letter-spacing:.18em; text-align:center;
      text-shadow: 0 3px 8px rgba(0,0,0,.28);
    }
    #definitionDisplay{
      font-size: clamp(16px, 2vw, 20px);
      line-height:1.6; text-align:center;
      background: rgba(0,0,0,.16);
      border-radius:14px; padding:16px 18px;
    }
    .controls{
      display:grid; grid-template-columns: repeat(6,1fr); gap:10px; margin:12px 0 6px;
    }
    button{
      padding:12px; font-size:1.05rem; font-weight:700; border-radius:12px; border:none;
      cursor:pointer; background:#fff; color:var(--brand);
      transition:.25s; box-shadow:0 4px 10px rgba(0,0,0,.1);
    }
    button:hover{ background:var(--brand); color:#fff; box-shadow:0 0 12px #ffffff99, 0 0 18px #2575fcaa }
    button:disabled{opacity:.55; cursor:not-allowed}
    input[type="text"]{
      font-size:1.2rem; padding:14px 16px; border-radius:12px; border:none; width:100%;
      margin:10px 0 14px; background:#fff; color:#222; outline:none; transition:.25s;
    }
    input[type="text"]:focus{ box-shadow:0 0 10px var(--brand); caret-color:var(--brand) }
    #message{ min-height:28px; font-size:1.1rem; font-weight:700; text-align:center; margin:6px 0 0 }
    .divider{ height:1px; background:rgba(255,255,255,.18); margin:18px 0 }
    .bank{
      display:flex; flex-wrap:wrap; gap:10px; justify-content:center;
    }
    .bank button{
      background:rgba(255,255,255,.12); color:#fff; font-weight:800; letter-spacing:.08em;
      border:1px solid rgba(255,255,255,.18);
    }
    .bank button.active{ background:#fff; color:var(--brand) }
    .footnote{
      margin-top:10px; text-align:center; opacity:.85; font-size:.95rem
    }
    .sr-only{ position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Champs lexicaux ‚Äì Jeu vocal</h1>
      <div class="status">
        <span class="pill" id="progressPill">0 / 0</span>
        <span class="pill" id="speedPill">Vitesse √ó1.00</span>
        <span class="pill" id="hintPill">Toutes les r√©ponses commencent par&nbsp;<b id="hintPrefix">‚Äì ‚Äì</b></span>
      </div>
    </header>

    <div class="display">
      <div id="prefixDisplay">‚Äì ‚Äì</div>
      <div id="definitionDisplay">Clique une initiale ci-dessous ou appuie sur ‚ñ∂Ô∏è Jouer.</div>
    </div>

    <input type="text" id="answer" placeholder="√âcris le mot correct (m√™me initiales) et appuie sur Entr√©e‚Ä¶" autocomplete="off" />

    <div class="controls" role="group" aria-label="Commandes">
      <button id="btnPlay">‚ñ∂Ô∏è Jouer</button>
      <button id="btnSlow">üê¢ Ralentir</button>
      <button id="btnFast">üêá Acc√©l√©rer</button>
      <button id="btnRepeat">üîÅ R√©p√©ter</button>
      <button id="btnSkip">‚è≠ Passer</button>
      <button id="btnBack">‚¨ÖÔ∏è Retour</button>
    </div>

    <div id="message" aria-live="polite"></div>

    <div class="divider"></div>

    <div class="bank" id="initialBank" aria-label="Liste d‚Äôinitiales (s√©lection rapide)"></div>
    <div class="footnote">Astuce : tu peux changer la vitesse et r√©p√©ter la d√©finition √† volont√©.</div>
  </div>

  <script>
    // --- Donn√©es : champs lexicaux nettoy√©s (entr√©es sans d√©finition ou bugg√©es retir√©es) ---
    // Rappel: Chaque item = { mot: "Mot", def: "D√©finition" } ; la r√©ponse attendue commence par les deux lettres du champ.
    const FIELDS = {
      "Pr": [
        {mot:"Pr√©cision", def:"Le fait de donner des d√©tails exacts et pr√©cis sur quelque chose."},
        {mot:"Profond", def:"Qui se rapporte √† la profondeur ou √† une intensit√© importante."},
        {mot:"Profession", def:"Domaine d'activit√© ou m√©tier dans lequel une personne travaille."},
        {mot:"Progr√®s", def:"Avancement ou am√©lioration dans une situation ou un domaine."},
        {mot:"Promesse", def:"Engagement ou parole donn√©e de faire quelque chose."},
        {mot:"Proverbe", def:"Expression populaire qui contient une sagesse ou un conseil."},
        {mot:"Pr√©cieux", def:"Qui a une grande valeur ou importance."},
        {mot:"Pr√©paration", def:"Action de se pr√©parer en vue d'une activit√©."},
        {mot:"Pr√©caution", def:"Mesure prise pour √©viter un danger ou un probl√®me."},
        {mot:"Privil√®ge", def:"Avantage ou droit sp√©cial accord√© √† certaines personnes."}
      ],
      "Se": [
        {mot:"Sensation", def:"Perception ou ressenti d'un stimulus par les sens."},
        {mot:"S√©duction", def:"Charme ou pouvoir d'attraction envers quelqu'un."},
        {mot:"S√©r√©nit√©", def:"√âtat de calme et de tranquillit√©."},
        {mot:"Secret", def:"Quelque chose qui est cach√© ou inconnu du public."},
        {mot:"S√©paration", def:"Acte de se s√©parer ou de se diviser."},
        {mot:"S√©rieux", def:"√âtat de responsabilit√© et de gravit√©."},
        {mot:"Sentiment", def:"√âmotion ou affection ressentie envers quelqu'un ou quelque chose."},
        {mot:"Service", def:"Action d'aider ou d'assister quelqu'un."},
        {mot:"Seconde", def:"Unit√© de temps ou rang apr√®s la premi√®re."},
        {mot:"Septi√®me", def:"Position dans une s√©rie apr√®s le sixi√®me."}
      ],
      "Tr": [
        {mot:"Transformation", def:"Changement ou m√©tamorphose d'une chose en une autre."},
        {mot:"Tristesse", def:"√âtat de chagrin ou de m√©lancolie."},
        {mot:"Travail", def:"Emploi ou activit√© professionnelle."},
        {mot:"Traitement", def:"Action de soigner ou de proc√©der √† une proc√©dure m√©dicale."},
        {mot:"Tradition", def:"Coutume transmise de g√©n√©ration en g√©n√©ration."},
        {mot:"Trag√©die", def:"Drame qui provoque de la tristesse ou du d√©sespoir."},
        {mot:"Trenti√®me", def:"Position dans une s√©rie apr√®s le vingt-neuvi√®me."},
        {mot:"Triomphe", def:"Victoire √©clatante √† l'issue d'une lutte."},
        {mot:"Transparence", def:"Clart√© d'une substance ou d'une situation."},
        {mot:"Tr√©sor", def:"Richesse ou bien pr√©cieux √† valeur sentimentale ou mat√©rielle."}
      ],
      "Ac": [
        {mot:"Accompagnement", def:"Soutien ou aide fournie √† quelqu'un."},
        {mot:"Acc√®s", def:"Possibilit√© d'entrer dans un lieu ou d'obtenir quelque chose."},
        {mot:"Action", def:"Acte de faire quelque chose."},
        {mot:"Activit√©", def:"Occupation ou exercice d'une action."},
        {mot:"Achat", def:"Acquisition d'un bien."},
        {mot:"Accident", def:"√âv√©nement impr√©vu, souvent tragique."},
        {mot:"Accord", def:"Entente ou consensus entre plusieurs personnes."},
        {mot:"Acquisition", def:"Obtention d'une chose."},
        {mot:"Acteur", def:"Personne qui joue un r√¥le au th√©√¢tre ou au cin√©ma."},
        {mot:"Acclamation", def:"Applaudissements ou √©loges enthousiastes."},
        {mot:"Acrimonie", def:"Mauvaise humeur qui s'exprime par des propos acerbes."}
      ],
      "Ca": [
        {mot:"Caract√®re", def:"Ensemble de traits distinctifs d'une personne ou d'une chose."},
        {mot:"Carte", def:"Document repr√©sentant une r√©gion ou un territoire."},
        {mot:"Cascade", def:"Chute d'eau sur une pente."},
        {mot:"Cadeau", def:"Objet offert pour une occasion ou par affection."},
        {mot:"Caisse", def:"Contenant destin√© au transport d'objets."},
        {mot:"Cam√©ra", def:"Appareil pour prendre des photos ou filmer."},
        {mot:"Campagne", def:"R√©gion rurale, √©loign√©e de la ville."},
        {mot:"Canal", def:"Voie d'eau artificielle pour le transport."},
        {mot:"Capacit√©", def:"Aptitude √† faire, comprendre ou apprendre."},
        {mot:"Capitale", def:"Ville principale d'un pays ou d'une r√©gion."}
      ],
      "Me": [
        {mot:"M√©moire", def:"Capacit√© de se souvenir et de rappeler des informations."},
        {mot:"M√©thode", def:"Mani√®re sp√©cifique d'effectuer une t√¢che."},
        {mot:"M√©lodie", def:"S√©quence agr√©able de notes musicales."},
        {mot:"Menu", def:"Liste de plats ou d'options dans un programme."},
        {mot:"M√©contentement", def:"Sentiment de ne pas √™tre satisfait."},
        {mot:"Mesure", def:"Quantit√© ou √©chelle pour √©valuer quelque chose."},
        {mot:"Merveille", def:"Chose tr√®s impressionnante ou √©tonnante."},
        {mot:"M√©ditation", def:"Pratique de relaxation et de concentration."},
        {mot:"Messagerie", def:"Syst√®me d'envoi et de r√©ception de messages."},
        {mot:"M√©morable", def:"Qui m√©rite d'√™tre rappel√©."},
        {mot:"M√©t√©o", def:"Conditions atmosph√©riques √† un moment pr√©cis."}
      ],
      "Di": [
        {mot:"Direction", def:"Position ou trajectoire d'un mouvement."},
        {mot:"Difficult√©", def:"Obstacle ou d√©fi qui complique quelque chose."},
        {mot:"Discipline", def:"Ob√©issance √† des r√®gles pour atteindre un objectif."},
        {mot:"Dialogue", def:"Conversation entre deux personnes ou plus."},
        {mot:"Diversit√©", def:"Vari√©t√© dans un groupe ou une soci√©t√©."},
        {mot:"Diplomatie", def:"Art de n√©gocier et r√©soudre les conflits."},
        {mot:"Dictionnaire", def:"Livre listant les mots et leurs d√©finitions."},
        {mot:"Disparition", def:"Fait de ne plus √™tre pr√©sent ou visible."},
        {mot:"Dimension", def:"Mesure de la taille ou de la port√©e d'un objet."},
        {mot:"Directionnel", def:"Relatif √† la direction ou l'orientation."},
        {mot:"Divertissement", def:"Ce qui procure du plaisir ou de l'amusement."},
        {mot:"Diam√®tre", def:"Segment passant par le centre d'un cercle entre deux points de la circonf√©rence."},
        {mot:"Discoth√®que", def:"Lieu o√π l'on danse au son d'une musique enregistr√©e."}
      ],
      "Em": [
        {mot:"Emotion", def:"R√©action affective intense."},
        {mot:"Empathie", def:"Capacit√© de comprendre et partager les sentiments d'autrui."},
        {mot:"Emploi", def:"Travail ou occupation r√©mun√©r√©."},
        {mot:"Empreinte", def:"Marque laiss√©e par un objet ou une personne."},
        {mot:"√âmotionnel", def:"Li√© aux √©motions."},
        {mot:"Empire", def:"Vaste territoire gouvern√© par un seul souverain."},
        {mot:"Embl√®me", def:"Symbole repr√©sentant une id√©e ou une organisation."},
        {mot:"Empoisonnement", def:"√âtat d'intoxication."},
        {mot:"√âm√©rite", def:"Qui a acquis une reconnaissance particuli√®re dans un domaine."},
        {mot:"Empressement", def:"Enthousiasme √† faire quelque chose rapidement."},
        {mot:"√âmergence", def:"Processus par lequel quelque chose devient visible."},
        {mot:"√âmancipation", def:"Fait de se lib√©rer de contraintes pour plus d'autonomie."}
      ],
      "No": [
        {mot:"Nourriture", def:"Substances consomm√©es pour se nourrir."},
        {mot:"Nouvelle", def:"Information sur des √©v√©nements r√©cents."},
        {mot:"Nostalgie", def:"D√©sir ou tristesse envers le pass√©."},
        {mot:"Normalit√©", def:"√âtat conforme aux normes."},
        {mot:"Notori√©t√©", def:"Renomm√©e d'une personne ou d'une chose."},
        {mot:"Notre", def:"Qui appartient √† ¬´ nous ¬ª."},
        {mot:"Nocif", def:"Qui peut causer des dommages."},
        {mot:"Novice", def:"Personne inexp√©riment√©e."},
        {mot:"Nourrir", def:"Donner √† manger."},
        {mot:"Nomade", def:"Qui se d√©place souvent sans domicile fixe."}
      ],
      "La": [
        {mot:"Langage", def:"Syst√®me de communication humaine."},
        {mot:"Labyrinthe", def:"D√©dale complexe de passages."},
        {mot:"Lampe", def:"Appareil d'√©clairage."},
        {mot:"Laconique", def:"Qui s'exprime de mani√®re br√®ve."},
        {mot:"Larme", def:"Goutte d'eau produite par les glandes lacrymales."},
        {mot:"Lavage", def:"Action de nettoyer avec de l'eau."},
        {mot:"Laconisme", def:"Style de discours succinct."},
        {mot:"Lancinant", def:"Douleur vive et persistante."},
        {mot:"Laconiquement", def:"De mani√®re concise."},
        {mot:"Languissant", def:"Faible ou manquant d'√©nergie."}
      ],
      "Ch": [
        {mot:"Chaleur", def:"Sensation de temp√©rature √©lev√©e."},
        {mot:"Chambre", def:"Pi√®ce o√π l'on dort."},
        {mot:"Chanson", def:"Composition musicale avec paroles."},
        {mot:"Chapeau", def:"Coiffure prot√©geant du soleil ou de la pluie."},
        {mot:"Charit√©", def:"Aide apport√©e aux personnes dans le besoin."},
        {mot:"Chat", def:"Animal domestique qui miaule."},
        {mot:"Ch√¢teau", def:"B√¢timent fortifi√©, r√©sidence noble."},
        {mot:"Chauffage", def:"Syst√®me pour chauffer une pi√®ce."},
        {mot:"Chaussure", def:"Accessoire qui recouvre le pied."},
        {mot:"Chiffre", def:"Symbole num√©rique."},
        {mot:"Chocolat", def:"Produit alimentaire √† base de cacao."},
        {mot:"Choix", def:"Action de choisir."},
        {mot:"Ch√¥mage", def:"Situation d'une personne sans travail."},
        {mot:"Chute", def:"Action de tomber."},
        {mot:"Ch√®vre", def:"Animal domestique √©lev√© pour son lait."},
        {mot:"Chimie", def:"Science de la composition des substances."},
        {mot:"Chirurgie", def:"Branche de la m√©decine utilisant des op√©rations."},
        {mot:"Chouette", def:"Oiseau nocturne associ√© √† la sagesse."}
      ],
      "Ci": [
        {mot:"Ciel", def:"Espace atmosph√©rique au-dessus de la Terre."},
        {mot:"Cire", def:"Substance solide pour bougies ou polir."},
        {mot:"Cigogne", def:"Grand oiseau migrateur aux longues pattes."},
        {mot:"Ciseaux", def:"Outil tranchant pour couper."},
        {mot:"Ciment", def:"Poudre liant des mat√©riaux de construction."},
        {mot:"Cit√©", def:"Zone urbaine avec b√¢timents et population."},
        {mot:"Citation", def:"Phrase ou extrait tir√© d'un texte."},
        {mot:"Circulation", def:"Mouvement des v√©hicules et pi√©tons."},
        {mot:"Citadelle", def:"Forteresse sur une hauteur."},
        {mot:"Cigarette", def:"Petit cylindre de tabac √† fumer."},
        {mot:"Cible", def:"Objet √† atteindre au tir ou lancer."},
        {mot:"Cin√©ma", def:"Art et projection des films."}
      ],
      "Jo": [
        {mot:"Jovial", def:"Enjou√©, gai, plein d'entrain."},
        {mot:"Joli", def:"Agr√©able √† regarder."},
        {mot:"Jouet", def:"Objet de divertissement."},
        {mot:"Journ√©e", def:"P√©riode de vingt-quatre heures."},
        {mot:"Joie", def:"√âtat de bonheur."},
        {mot:"Journal", def:"Document rapportant des informations."},
        {mot:"Joueur", def:"Personne qui participe √† un jeu ou sport."},
        {mot:"Jogging", def:"Course √† rythme lent."},
        {mot:"Joaillerie", def:"Art de fabriquer des bijoux."},
        {mot:"Jonquille", def:"Plante √† fleurs jaunes du printemps."},
        {mot:"Journaliste", def:"Personne qui recueille et publie des informations."}
      ],
      "In": [
        {mot:"Insecte", def:"Petit animal √† six pattes, souvent ail√©."},
        {mot:"Inconnu", def:"Qui n'est pas reconnu ou identifi√©."},
        {mot:"Innovant", def:"Qui apporte des id√©es ou m√©thodes nouvelles."},
        {mot:"Innovation", def:"Introduction de nouvelles id√©es ou produits."},
        {mot:"Injustice", def:"Absence d'√©quit√©."},
        {mot:"Information", def:"Faits ou connaissances sur un sujet."},
        {mot:"Inspection", def:"Action d'examiner attentivement."},
        {mot:"Int√©grit√©", def:"Respect de principes moraux."},
        {mot:"Inviter", def:"Demander √† quelqu'un de venir."},
        {mot:"Industrie", def:"Activit√©s de production de biens et services."},
        {mot:"Informatique", def:"Science du traitement automatique de l'information."},
        {mot:"Infirmerie", def:"Lieu de soins m√©dicaux l√©gers."},
        {mot:"Infini", def:"Qui n'a pas de limite."},
        {mot:"Invention", def:"Cr√©ation d'une chose nouvelle."},
        {mot:"Invitation", def:"Demande de participer √† quelque chose."},
        {mot:"In√©dit", def:"Jamais publi√© ou montr√©."},
        {mot:"Interlocuteur", def:"Personne avec qui l'on discute."},
        {mot:"Interdit", def:"Non autoris√©."},
        {mot:"Intervention", def:"Action d'intervenir pour aider."}
      ],
      "Ge": [
        {mot:"G√©ant", def:"Tr√®s grand ou imposant."},
        {mot:"G√©ographie", def:"√âtude de la Terre et de ses habitants."},
        {mot:"G√©rer", def:"S'occuper de, diriger une situation."},
        {mot:"G√©ologie", def:"√âtude des roches et de la structure de la Terre."},
        {mot:"Genre", def:"Cat√©gorie de choses similaires."},
        {mot:"G√©om√©trie", def:"Branche des math√©matiques des formes."},
        {mot:"G√©antisme", def:"Croissance corporelle excessive."},
        {mot:"G√©n√©rosit√©", def:"Qualit√© de donner sans attendre en retour."},
        {mot:"Gestion", def:"Action de diriger une organisation."},
        {mot:"G√©n√©tique", def:"√âtude des g√®nes et de l'h√©r√©dit√©."}
      ],
      "Fa": [
        {mot:"Famille", def:"Groupe de personnes li√©es par le sang ou l'adoption."},
        {mot:"Fabuleux", def:"Incroyablement merveilleux."},
        {mot:"Facteur", def:"Variable qui influence un r√©sultat."},
        {mot:"Fa√ßon", def:"Mani√®re dont quelque chose est fait."},
        {mot:"Face", def:"Partie ant√©rieure de la t√™te humaine."},
        {mot:"Fabrication", def:"Production de biens √† grande √©chelle."},
        {mot:"Facult√©", def:"Unit√© d'enseignement d'une universit√©."},
        {mot:"Fable", def:"Court r√©cit imaginaire avec une morale."},
        {mot:"Faim", def:"Sensation de besoin de nourriture."},
        {mot:"Faune", def:"Ensemble des animaux d'une r√©gion."}
      ],
      "Ce": [
        {mot:"C√©r√©ale", def:"Plante cultiv√©e pour ses graines comestibles."},
        {mot:"C√©r√©monie", def:"Rites solennels d'un √©v√©nement."},
        {mot:"C√©tac√©", def:"Animal marin √† nageoires, comme la baleine."},
        {mot:"C√©libataire", def:"Personne non mari√©e."},
        {mot:"Cercle", def:"Figure g√©om√©trique ferm√©e."},
        {mot:"C√©sar", def:"Titre des empereurs romains."},
        {mot:"C√©sium", def:"√âl√©ment chimique, symbole Cs, n¬∞55."},
        {mot:"C√©sure", def:"Pause dans le vers po√©tique."},
        {mot:"Cession", def:"Action de c√©der quelque chose."},
        {mot:"C√©notaphe", def:"Monument fun√©raire sans corps."},
        {mot:"Ceinture", def:"Bande autour de la taille pour maintenir un v√™tement."}
      ],
      "Cl": [
        {mot:"Classe", def:"Groupe partageant une fonction ou id√©ologie."},
        {mot:"Clavier", def:"Ensemble de touches d'un appareil."},
        {mot:"Climat", def:"Conditions atmosph√©riques d'une r√©gion."},
        {mot:"Clinique", def:"√âtablissement de soins m√©dicaux."},
        {mot:"Clonage", def:"Technique de reproduction de clones."},
        {mot:"Cloche", def:"Instrument produisant un son."},
        {mot:"Clou", def:"Petit objet pointu pour fixer."},
        {mot:"Club", def:"Association de personnes aux int√©r√™ts communs."},
        {mot:"Clown", def:"Personnage comique de cirque."},
        {mot:"Cl√¥ture", def:"Barri√®re d√©limitant une propri√©t√©."},
        {mot:"Cl√©mentine", def:"Fruit hybride entre mandarine et orange."}
      ],
      "Be": [
        {mot:"B√©b√©", def:"Enfant en tr√®s bas √¢ge."},
        {mot:"Beaut√©", def:"Qualit√© d'√™tre beau."},
        {mot:"B√©lier", def:"Signe astrologique; aussi l'animal."},
        {mot:"B√©guin", def:"Attirance amoureuse passag√®re."},
        {mot:"Berceau", def:"Lit pour b√©b√©."},
        {mot:"Besoin", def:"N√©cessit√© ou exigence."},
        {mot:"B√™te", def:"Animal; par extension, qui manque de jugement."},
        {mot:"Beurre", def:"Produit laitier de la cr√®me."},
        {mot:"B√©n√©fice", def:"Profit ou avantage tir√© d'une activit√©."},
        {mot:"B√©atitude", def:"Bonheur parfait et durable."}
      ],
      "Bl": [
        {mot:"Blague", def:"Histoire dr√¥le ou plaisanterie."},
        {mot:"Blanc", def:"Couleur somme de toutes les couleurs (lumi√®re)."},
        {mot:"Blazer", def:"Veste de costume sportive."},
        {mot:"Blessure", def:"L√©sion physique ou morale."},
        {mot:"Blocage", def:"Action de bloquer."},
        {mot:"Blog", def:"Site personnel de publications."},
        {mot:"Blondeur", def:"Qualit√© d'√™tre blond(e)."},
        {mot:"Blouse", def:"V√™tement de travail ample."},
        {mot:"Bluff", def:"Attitude pour impressionner sans moyens r√©els."},
        {mot:"Blancheur", def:"Qualit√© d'√™tre blanc."}
      ],
      "Bo": [
        {mot:"Bonbon", def:"Petite sucrerie."},
        {mot:"Bonheur", def:"√âtat de contentement."},
        {mot:"Bo√Æte", def:"R√©cipient rigide."},
        {mot:"Bouteille", def:"R√©cipient pour liquides."},
        {mot:"Boussole", def:"Instrument indiquant le nord magn√©tique."},
        {mot:"Bougie", def:"Objet en cire servant √† √©clairer."},
        {mot:"Boule", def:"Objet sph√©rique."},
        {mot:"Bouquet", def:"Ensemble de fleurs arrang√©es."},
        {mot:"Bouton", def:"Pi√®ce en relief pour fermer un v√™tement."},
        {mot:"Boxe", def:"Sport de combat aux poings."},
        {mot:"Bois", def:"Mat√©riau provenant des arbres."}
      ],
      "Bi": [
        {mot:"Biblioth√®que", def:"Lieu de conservation des livres."},
        {mot:"Bicyclette", def:"V√©hicule √† deux roues √† p√©dales."},
        {mot:"Biographie", def:"R√©cit de la vie d'une personne."},
        {mot:"Bijou", def:"Objet ornemental port√© sur le corps."},
        {mot:"Bilan", def:"√âtat des lieux ou compte rendu."},
        {mot:"Bilingue", def:"Qui parle deux langues."},
        {mot:"Biologie", def:"Science des √™tres vivants."},
        {mot:"Bisou", def:"Baiser amical ou affectueux."},
        {mot:"Biscuit", def:"Petit g√¢teau sec."},
        {mot:"Bistrot", def:"Petit restaurant ou caf√©."},
        {mot:"Bip√®de", def:"Animal qui marche sur deux pattes."}
      ],
      "Cr": [
        {mot:"Crayon", def:"Instrument d'√©criture ou de dessin."},
        {mot:"Cr√®me", def:"Substance onctueuse pour hydrater la peau."},
        {mot:"Croissant", def:"P√¢tisserie en forme de croissant."},
        {mot:"Cravate", def:"Accessoire vestimentaire pour le cou."},
        {mot:"Cr√©ativit√©", def:"Capacit√© √† imaginer et inventer."},
        {mot:"Cr√©dit", def:"Somme d'argent emprunt√©e."},
        {mot:"Crise", def:"P√©riode difficile ou de changement."},
        {mot:"Crier", def:"√âmettre un son fort."},
        {mot:"Cristal", def:"Mat√©riau transparent et brillant."},
        {mot:"Crocodile", def:"Grand reptile semi-aquatique."}
      ],
      "Pl": [
        {mot:"Plage", def:"√âtendue de sable ou galets au bord de la mer."},
        {mot:"Plaisir", def:"Sensation de satisfaction."},
        {mot:"Plateau", def:"Surface plane pour transporter."},
        {mot:"Plomb", def:"M√©tal lourd gris."},
        {mot:"Plong√©e", def:"Action d'explorer sous l'eau."},
        {mot:"Pluie", def:"Pr√©cipitation en gouttes d'eau."},
        {mot:"Plus", def:"Exprime une quantit√© sup√©rieure."},
        {mot:"Plume", def:"Objet pour √©crire ou d√©corer."},
        {mot:"Pluriel", def:"Forme grammaticale du multiple."},
        {mot:"Pluvieux", def:"Caract√©ris√© par la pluie."},
        {mot:"Pluviom√®tre", def:"Instrument mesurant la pluie."},
        {mot:"Plombier", def:"Professionnel des installations d'eau."},
        {mot:"Plante", def:"√ätre vivant v√©g√©tal."}
      ],
      "Gl": [
        {mot:"Glace", def:"Eau solidifi√©e; aussi dessert froid."},
        {mot:"Globe", def:"Sph√®re terrestre ou c√©leste."},
        {mot:"Glisser", def:"Se d√©placer sur surface lisse."},
        {mot:"Gladiateur", def:"Combattant de l'ar√®ne romaine."},
        {mot:"Glorieux", def:"Digne d'√©loges."},
        {mot:"Glande", def:"Organe s√©cr√©teur."},
        {mot:"Glaci√®re", def:"R√©cipient isol√© pour garder au froid."},
        {mot:"Glauque", def:"De couleur verd√¢tre ou gris√¢tre."},
        {mot:"Glissade", def:"Action de glisser."},
        {mot:"Glucide", def:"Source d'√©nergie pour le corps."},
        {mot:"Gla√ßon", def:"Morceau de glace."}
      ],
      "Fr": [
        {mot:"Fraise", def:"Fruit rouge et sucr√©."},
        {mot:"Fr√®re", def:"Membre masculin de la fratrie."},
        {mot:"Fronti√®re", def:"Ligne s√©parant deux pays ou r√©gions."},
        {mot:"Frisson", def:"Sensation de froid ou de peur."},
        {mot:"Frange", def:"M√®che de cheveux sur le front."},
        {mot:"Frigo", def:"Appareil pour conserver au froid."},
        {mot:"Frapper", def:"Donner des coups."},
        {mot:"Fraternit√©", def:"Solidarit√© entre √™tres humains."},
        {mot:"Friser", def:"Faire des boucles aux cheveux."},
        {mot:"Frissonner", def:"Trembler de froid ou de peur."},
        {mot:"Fracas", def:"Bruit violent et soudain."},
        {mot:"Franchir", def:"Passer au-del√† d'une limite."},
        {mot:"Fr√©quence", def:"Nombre de r√©p√©titions par unit√© de temps."}
      ],
      "Ba": [
        {mot:"Baccalaur√©at", def:"Examen de fin d'√©tudes secondaires."},
        {mot:"Banque", def:"Institution de services financiers."},
        {mot:"Baroque", def:"Style artistique orn√© et extravagant."},
        {mot:"Base", def:"Fondement sur lequel on construit."},
        {mot:"Bataille", def:"Conflit arm√© entre groupes."},
        {mot:"Bague", def:"Bijou port√© au doigt."},
        {mot:"Balle", def:"Objet sph√©rique de certains sports."},
        {mot:"Banane", def:"Fruit jaune et courb√©."},
        {mot:"Barbe", def:"Pilosit√© faciale."},
        {mot:"Barri√®re", def:"Obstacle qui emp√™che le passage."},
        {mot:"Basket", def:"Chaussure de sport (ou le sport)."},
        {mot:"Battement", def:"Mouvement r√©p√©titif d'un organe."},
        {mot:"Bateau", def:"Embarcation naviguant sur l'eau."},
        {mot:"B√¢ton", def:"Objet allong√© et fin."},
        {mot:"Batifoler", def:"S'amuser l√©g√®rement, sans but pr√©cis."},
        {mot:"Bagarre", def:"Altercation violente."},
        {mot:"Bandit", def:"Criminel ou hors-la-loi."},
        {mot:"Barrissement", def:"Cri sonore de l'√©l√©phant."},
        {mot:"Bannir", def:"Exclure d'un lieu, interdire."}
      ],
      "De": [
        {mot:"D√©finition", def:"Explication pr√©cise d'un mot ou concept."},
        {mot:"D√©mocratie", def:"Syst√®me o√π le peuple exerce le pouvoir."},
        {mot:"D√©rision", def:"Moquerie ouverte."},
        {mot:"D√©sespoir", def:"Tristesse profonde et perte d'espoir."},
        {mot:"D√©tective", def:"Enqu√™teur r√©solvant des myst√®res."},
        {mot:"D√©cision", def:"Choix pris apr√®s r√©flexion."},
        {mot:"D√©sir", def:"Envie d'obtenir quelque chose."},
        {mot:"D√©but", def:"Commencement d'une p√©riode ou action."},
        {mot:"D√©couvrir", def:"Trouver ou faire conna√Ætre du nouveau."},
        {mot:"D√©marrer", def:"Mettre en marche."},
        {mot:"D√©faut", def:"Manque ou imperfection."},
        {mot:"D√©tail", def:"√âl√©ment composant un ensemble."},
        {mot:"D√©tente", def:"Moment de repos et de relaxation."},
        {mot:"D√©termin√©", def:"D'une grande volont√©."},
        {mot:"Dentiste", def:"Praticien sp√©cialis√© des dents."},
        {mot:"D√©cennie", def:"P√©riode de dix ans."},
        {mot:"D√©cor", def:"√âl√©ments qui ornent un lieu."},
        {mot:"D√©couragement", def:"Perte de courage."},
        {mot:"D√©chirure", def:"Action de d√©chirer; son r√©sultat."},
        {mot:"D√©clin", def:"Affaiblissement progressif."},
        {mot:"D√©couverte", def:"Action de d√©couvrir."},
        {mot:"D√©fi", def:"Provocation √† une √©preuve."},
        {mot:"D√©fil√©", def:"Passage ordonn√©; aussi vall√©e √©troite."},
        {mot:"D√©gustation", def:"Action de go√ªter un aliment."}
      ],
      "Ma": [
        {mot:"Magie", def:"Utilisation de pouvoirs surnaturels."},
        {mot:"Maison", def:"B√¢timent o√π l'on vit."},
        {mot:"Mariage", def:"Union l√©gale de partenaires de vie."},
        {mot:"Maladie", def:"Alt√©ration de la sant√©."},
        {mot:"Matin", def:"Premi√®re partie de la journ√©e."},
        {mot:"Masque", def:"Objet port√© sur le visage."},
        {mot:"Magn√©tisme", def:"Force d'attraction ou r√©pulsion de certains mat√©riaux."},
        {mot:"Malentendant", def:"Personne √† d√©ficience auditive."},
        {mot:"Mati√®re", def:"Substance composant les objets."},
        {mot:"March√©", def:"Lieu d'achat et de vente."},
        {mot:"Magasin", def:"Endroit o√π l'on vend des produits."},
        {mot:"Main", def:"Partie du corps pour saisir."},
        {mot:"Machine", def:"Appareil r√©alisant une t√¢che."},
        {mot:"Mayonnaise", def:"Sauce froide √† base d'huile et d'≈ìufs."},
        {mot:"Macadam", def:"Rev√™tement routier de pierres compact√©es."},
        {mot:"Macabre", def:"Qui √©voque la mort, sinistre."},
        {mot:"Manifestation", def:"Rassemblement public d'expression."},
        {mot:"Management", def:"Gestion d'une organisation."},
        {mot:"Marketing", def:"Actions pour promouvoir et vendre."}
      ],
      "Su": [
        {mot:"Subvention", def:"Aide financi√®re pour soutenir un projet."},
        {mot:"Survie", def:"Fait de rester en vie dans la difficult√©."},
        {mot:"Subtil", def:"D√©licat, peu √©vident."},
        {mot:"Succ√®s", def:"R√©alisation d'un r√©sultat positif."},
        {mot:"Sujet", def:"Th√®me principal d'un discours ou texte."},
        {mot:"Surnaturel", def:"Au-del√† des lois naturelles."},
        {mot:"Suspendre", def:"Arr√™ter temporairement."},
        {mot:"Supprimer", def:"Effacer ou enlever d√©finitivement."},
        {mot:"Surprise", def:"√âv√©nement inattendu."}
        // (Note: "Suicide" retir√© pour convenance p√©dagogique.)
      ]
    };

    // --- √âl√©ments DOM ---
    const prefixDisplay = document.getElementById("prefixDisplay");
    const definitionDisplay = document.getElementById("definitionDisplay");
    const answerInput = document.getElementById("answer");
    const message = document.getElementById("message");
    const btnPlay = document.getElementById("btnPlay");
    const btnSlow = document.getElementById("btnSlow");
    const btnFast = document.getElementById("btnFast");
    const btnRepeat = document.getElementById("btnRepeat");
    const btnSkip = document.getElementById("btnSkip");
    const btnBack = document.getElementById("btnBack");
    const initialBank = document.getElementById("initialBank");
    const progressPill = document.getElementById("progressPill");
    const speedPill = document.getElementById("speedPill");
    const hintPrefix = document.getElementById("hintPrefix");

    // --- √âtat du jeu ---
    let currentPrefix = null;
    let currentIndex = 0;
    let speechRate = 1;

    // --- Utilitaires ---
    const normalize = s => s
      .toLowerCase()
      .normalize('NFD').replace(/[\u0300-\u036f]/g,'')  // retire accents
      .replace(/[^a-z\-‚Äô' ]/g,'')                       // garde lettres/espaces/apostrophes
      .trim();

    function updatePills(){
      const total = currentPrefix ? FIELDS[currentPrefix].length : 0;
      progressPill.textContent = total ? `${currentIndex+1} / ${total}` : `0 / 0`;
      speedPill.textContent = `Vitesse √ó${speechRate.toFixed(2)}`;
      hintPrefix.textContent = currentPrefix || "‚Äì ‚Äì";
    }

    function ttsCancel(){ if ('speechSynthesis' in window) speechSynthesis.cancel(); }
    function speak(text, rate=speechRate){
      if(!('speechSynthesis' in window)) { return; }
      ttsCancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'fr-FR';
      u.rate = rate;
      speechSynthesis.speak(u);
    }

    function announce(){
      if(!currentPrefix) return;
      const item = FIELDS[currentPrefix][currentIndex];
      const intro = `Toutes les bonnes r√©ponses commencent par les lettres : ${currentPrefix}.`;
      const def  = item.def;
      speak(`${intro} D√©finition : ${def}`);
    }

    function renderCard(){
      if(!currentPrefix){
        prefixDisplay.textContent = "‚Äì ‚Äì";
        definitionDisplay.textContent = "Choisis un champ lexical ci-dessous pour commencer, ou appuie sur ‚ñ∂Ô∏è Jouer pour d√©marrer au premier.";
        updatePills();
        return;
      }
      const item = FIELDS[currentPrefix][currentIndex];
      prefixDisplay.textContent = currentPrefix;
      definitionDisplay.textContent = item.def;
      message.textContent = "√âcris le mot correspondant. (Il doit commencer par " + currentPrefix + ")";
      message.style.color = "#fff";
      answerInput.value = "";
      answerInput.placeholder = `Un mot qui commence par ¬´ ${currentPrefix} ¬ª‚Ä¶`;
      answerInput.disabled = false;
      updatePills();
    }

    function setPrefix(prefix){
      if(!FIELDS[prefix]) return;
      currentPrefix = prefix;
      currentIndex = 0;
      highlightBank(prefix);
      renderCard();
      announce();
      answerInput.focus();
    }

    function next(){
      if(!currentPrefix) return;
      currentIndex++;
      const list = FIELDS[currentPrefix];
      if(currentIndex >= list.length){
        // Fin du champ courant -> message de bravo
        currentIndex = list.length-1;
        message.textContent = `üéâ Bravo ! Tu as termin√© le champ lexical ${currentPrefix}. Choisis une autre initiale ci-dessous.`;
        message.style.color = "#00e676";
        answerInput.disabled = true;
        ttsCancel();
        speak(`Bravo ! Tu as termin√© le champ lexical ${currentPrefix}.`);
        return;
      }
      renderCard();
      announce();
      answerInput.focus();
    }

    function back(){
      if(!currentPrefix) return;
      if(currentIndex > 0){
        currentIndex--;
        renderCard();
        announce();
        answerInput.focus();
      }
    }

    function repeat(){ announce(); }

    function slower(){
      speechRate = Math.max(0.5, speechRate - 0.25);
      updatePills();
      announce();
    }
    function faster(){
      speechRate = Math.min(2, speechRate + 0.25);
      updatePills();
      announce();
    }

    function check(){
      if(!currentPrefix) return;
      const item = FIELDS[currentPrefix][currentIndex];
      const user = normalize(answerInput.value);
      const target = normalize(item.mot);

      // Doit commencer par le pr√©fixe ET correspondre √† la d√©finition vis√©e
      if(user && user.startsWith(normalize(currentPrefix)) && user === target){
        message.textContent = "‚úÖ Correct ! Bien jou√©.";
        message.style.color = "#00e676";
        speak("Correct ! Bien jou√©.");
        setTimeout(next, 900);
      }else{
        message.textContent = `‚ùå Incorrect. Il fallait penser √† : ${item.mot}.`;
        message.style.color = "#ff5252";
        speak(`Incorrect. Il fallait penser √† : ${item.mot}.`);
      }
    }

    // --- Banque d'initiales cliquables ---
    function buildBank(){
      const keys = Object.keys(FIELDS);
      keys.sort((a,b)=>a.localeCompare(b,'fr'));
      initialBank.innerHTML = "";
      for(const k of keys){
        const btn = document.createElement("button");
        btn.textContent = k.toUpperCase();
        btn.setAttribute("aria-label", `Choisir le champ lexical ${k}`);
        btn.addEventListener("click", ()=> setPrefix(k));
        initialBank.appendChild(btn);
      }
    }
    function highlightBank(k){
      [...initialBank.children].forEach(b=>{
        b.classList.toggle('active', b.textContent === k.toUpperCase());
      });
    }

    // --- √âcouteurs ---
    btnPlay.addEventListener("click", ()=>{
      if(!currentPrefix){
        // D√©marrage: premier champ par ordre alphab√©tique
        const first = Object.keys(FIELDS).sort((a,b)=>a.localeCompare(b,'fr'))[0];
        setPrefix(first);
      }else{
        announce();
      }
    });
    btnSlow.addEventListener("click", slower);
    btnFast.addEventListener("click", faster);
    btnRepeat.addEventListener("click", repeat);
    btnSkip.addEventListener("click", next);
    btnBack.addEventListener("click", back);

    answerInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter") check();
    });

    // --- D√©marrage ---
    window.addEventListener("load", ()=>{
      buildBank();
      renderCard();
      // Message d'accessibilit√© si pas de TTS
      if(!('speechSynthesis' in window)){
        message.innerHTML = "‚ÑπÔ∏è La synth√®se vocale n'est pas disponible sur ce navigateur.";
      }
    });
  </script>
</body>
</html>