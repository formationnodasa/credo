<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âpelle-moi Bibliquement !</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #e67e22;
            --danger-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --text-color: #333;
            --background-color: #f9f9f9;
        }

        [data-theme="dark"] {
            --primary-color: #34495e;
            --secondary-color: #2980b9;
            --success-color: #229954;
            --warning-color: #d68910;
            --danger-color: #cb4335;
            --light-color: #2c3e50;
            --dark-color: #1a252f;
            --text-color: #ecf0f1;
            --background-color: #1a252f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--secondary-color);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }

        .game-container {
            background-color: var(--light-color);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .level-selector {
            margin-bottom: 20px;
        }

        select, input, button {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
            width: 100%;
            margin-bottom: 10px;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--primary-color);
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-warning {
            background-color: var(--warning-color);
        }

        .btn-danger {
            background-color: var(--danger-color);
        }

        .word-display {
            text-align: center;
            font-size: 1.5rem;
            margin: 20px 0;
            min-height: 40px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .result-message {
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
            min-height: 24px;
        }

        .success {
            color: var(--success-color);
        }

        .error {
            color: var(--danger-color);
        }

        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            height: 20px;
            background-color: #ddd;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--success-color);
            width: 0%;
            transition: width 0.5s;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .progress-section {
            margin-top: 30px;
            background-color: var(--light-color);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .progress-section h2 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .history-list {
            list-style-type: none;
            max-height: 200px;
            overflow-y: auto;
        }

        .history-item {
            padding: 8px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .correct {
            color: var(--success-color);
        }

        .incorrect {
            color: var(--danger-color);
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .game-container, .progress-section {
                padding: 15px;
            }
            
            .word-display {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle">üåô</button>
    
    <header>
        <h1>√âpelle-moi Bibliquement !</h1>
        <p>Testez votre connaissance de l'orthographe des noms et termes bibliques</p>
    </header>

    <div class="game-container">
        <div class="level-selector">
            <select id="levelSelect">
                <option value="random">Niveau Al√©atoire</option>
                <!-- Les options de niveau seront ajout√©es dynamiquement -->
            </select>
        </div>

        <div class="word-display" id="wordDisplay">
            Cliquez sur "Nouveau mot" pour commencer
        </div>

        <div class="result-message" id="resultMessage"></div>

        <button id="listenBtn">√âcouter le mot</button>
        <input type="text" id="spellingInput" placeholder="Entrez l'orthographe du mot">
        <button id="checkBtn">V√©rifier</button>
        <button id="nextBtn" class="btn-warning">Nouveau mot</button>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stats">
                <span>Score: <span id="scoreDisplay">0</span></span>
                <span>Niveau: <span id="levelDisplay">-</span></span>
            </div>
        </div>
    </div>

    <div class="progress-section">
        <h2>üìä Mes progr√®s</h2>
        <div>
            <p>Score total: <span id="totalScore">0</span></p>
            <p>Meilleur niveau: <span id="bestLevel">-</span></p>
            <p>Pourcentage de r√©ussite: <span id="successRate">0%</span></p>
        </div>
        
        <h3>Historique r√©cent</h3>
        <ul class="history-list" id="historyList">
            <!-- L'historique sera ajout√© dynamiquement -->
        </ul>
    </div>

    <script>
        // Donn√©es du jeu
        const bibleBooks = [
            "Gen√®se", "Exode", "L√©vitique", "Nombres", "Deut√©ronome", "Josu√©", "Juges",
            "Ruth", "1 Samuel", "2 Samuel", "1 Rois", "2 Rois", "1 Chroniques", "2 Chroniques",
            "Esdras", "N√©h√©mie", "Esther", "Job", "Psaumes", "Proverbes", "Eccl√©siaste", "Cantique des Cantiques",
            "√âsa√Øe", "J√©r√©mie", "Lamentations", "√âz√©chiel", "Daniel", "Os√©e", "Jo√´l", "Amos", "Abdias",
            "Jonas", "Mich√©e", "Nahum", "Habacuc", "Sophonie", "Agg√©e", "Zacharie", "Malachie",
            "Matthieu", "Marc", "Luc", "Jean", "Actes", "Romains", "1 Corinthiens", "2 Corinthiens",
            "Galates", "√âph√©siens", "Philippiens", "Colossiens", "1 Thessaloniciens", "2 Thessaloniciens",
            "1 Timoth√©e", "2 Timoth√©e", "Tite", "Phil√©mon", "H√©breux", "Jacques",
            "1 Pierre", "2 Pierre", "1 Jean", "2 Jean", "3 Jean", "Jude", "Apocalypse"
        ];

        const spellingWords = {
            "Gen√®se": [
                "Dieu", "Yahv√© Dieu", "Adam", "√àve", "serpent", "Ca√Øn", "Abel", "H√©nok", "Irad", "Mehuya√´l",
                "Metusha√´l", "Lamek", "Ada", "Cilla", "Yabal", "Yubal", "Tubal-Ca√Øn", "Naama", "Seth", "Enosh",
                "Q√©n√¢n", "Mahalal√©el", "Y√©red", "H√©nok", "Mathusalem", "Lamek", "No√©", "Sem", "Cham", "Japhet",
                "Nephilim", "ch√©rubins", "Nemrod", "Gomer", "Magog", "Yav√¢n", "Tubal", "Moshek", "Tiras", "Ashkenaz",
                "Riphat", "Togarma", "Elisha", "Kush", "Mi√ßrayim", "Put", "Canaan", "S√©ba", "Havila", "Sabta",
                "Rama", "Sabteka", "Sheba", "Ded√¢n", "Ashshur", "Arpakshad", "Lud", "Aram", "U√ß", "Hul",
                "G√©ter", "Mash", "Sh√©lah", "Eber", "P√©leg", "Yoqt√¢n", "Almodad", "Sh√©leph", "Ha√ß√ßarmavet", "Y√©rah",
                "Hadoram", "Uzal", "Diqla", "Obal", "Abima√´l", "Ophir", "Yobab", "R√©u", "Serug", "Nahor",
                "T√©rah", "Abram", "Har√¢n", "Lot", "Sara√Ø", "Milka", "Yiska", "ciel", "terre", "ab√Æme",
                "vent", "eaux", "lumi√®re", "t√©n√®bres", "jour", "nuit", "firmament", "mers", "verdure", "herbes",
                "arbres", "luminaires", "soleil", "lune", "√©toiles", "serpents", "b√™tes", "bestiaux", "bestioles",
                "arbre de vie", "arbre de la connaissance", "jardin d'Eden", "fleuve d'Eden", "Pish√¥n", "Havila",
                "bdellium", "cornaline", "Gih√¥n", "Kush", "Tigre", "Assur", "Euphrate", "c√¥te", "feuilles", "sueur",
                "pain", "tuniques", "glaive", "sol", "sang", "Nod", "ville", "signe", "arche", "d√©luge", "bitume",
                "corbeau", "colombe", "rameau", "autel", "holocaustes", "arc", "vin", "vigne", "nudit√©", "manteau",
                "esclave", "√Æles", "Babel", "Erek", "Akkad", "Shin√©ar", "Ninive", "Rehobot-Ir", "Kalah", "R√®s√®n",
                "Lud", "Anam", "Lehab", "Naphtuh", "Patros", "Kasluh", "Kaphtor", "Philistins", "Sidon", "J√©bus√©en",
                "Amorite", "Girgashite", "Hivvite", "Arqite", "Sinite", "Arvadite", "Cemarite", "Hamatite", "G√©rar",
                "Gaza", "Sodome", "Gomorrhe", "Adma", "Ceboyim", "L√©sha", "tour", "langue", "Ur", "Chald√©ens", "Sara",
                "Perizzites", "Amraphel", "Aryok", "Kedor-Laomer", "Tid√©al", "B√©ra", "Birsha", "Shin√©ab", "Sh√©me√©ber",
                "B√©la", "Repha√Øm", "Zuzim", "Emim", "Horites", "Amal√©cites", "Mambr√©", "Eshkol", "Aner", "Melchis√©dech",
                "Shalem", "El Elyon", "√âli√©zer", "Q√©nites", "Qenizzites", "Qadmonites", "Hittites", "Agar", "Isma√´l",
                "Ange de Yahv√©", "El-Ro√Ø", "El ShaddaEl Shadda√Ø", "Isaac", "h√¥tes", "Moab",√Ø", "Isaac", "h√¥tes", "Moab", " "Ben-Ammi", "Ben-Ammi", "Abim√©lek", "PikolAbim√©lek", "Pik"
            ],
ol"
            ],
            "Exode": ["Pharaon", "Mo√Øse", "plaies", "d√©sert", "loi"],
            "L√©vitique": ["sacrifice", "pr√™tre            "Exode": ["Pharaon", "Mo√Øse", "plaies", "d√©sert", "loi"],
            "L√©vitique": ["sacrifice", "", "purification", "spr√™tre", "purification", "saint", "offaint", "offrande"],
            "Nombres": ["recensement", "d√©sert", "manne", "serpent", "proph√©tie"],
            "Deut√©rande"],
            "Nombres": ["recensement", "d√©sert", "manne", "serpent", "proph√©tie"],
            "ronome": ["commandementsDeut√©ronome": ["commandements", "alliance", "terre", "b√©n√©diction", "mal√©diction"],
            "Josu√©": ["J√©richo", "Canaan", "conqu√™te", "partage", "tribus"],
            "Juges": ["Samson", "D√©b", "alliance", "terre", "b√©n√©diction", "mal√©diction"],
            "Josu√©": ["J√©richo", "Canaan", "conqu√™te", "partage", "tribus"],
            "Juges": ["ora", "GSamson", "D√©bora", "G√©d√©on",√©d√©on", "victoire "victoire", "cycle"],
            "Ruth": ["Mo", "cycle"],
            "Ruthab", "gl": ["Moab", "glane", "rachatane", "rachat", "Booz",", "Booz", "anc "anc√™tre"],
            "1 Samuel√™tre"],
            "1 Samuel":": ["Sa√ºl", " ["Sa√ºl", "David", "David", "GGoliath", "proph√®te", "onoliath", "proph√®te", "onction"],
            "2 Samuel": ["J√©rusalem", "ction"],
            "2 Samuel": ["J√©rusalem", "alliance", "absalliance", "absalomalom", "r√©volte",", "r√©volte", "ro "royaume"],
            "1 Rois": ["Salomon", "temple", "sagesse", "schisme", "proph√®tes"],
            "2 Rois": ["exil", "prophyaume"],
            "1 Rois": ["Salomon", "temple", "sagesse", "schisme", "proph√®tes"],
            "2 Rois": ["exil", "√®tes", "rois", "chuteproph√®tes", "rois", "ch", "Assyrie"],
           ute", "Assyrie"],
            "1 Chroniques": ["g√©n√©alogie", "David", "temple", "l "1 Chroniques": ["g√©n√©alogie", "David", "temple", "l√©vites√©vites", "chroniques"],
", "chroniques"],
                       "2 Chroniques": "2 Chroniques": ["Salomon", "temple", " ["Salomon", "temple", "rois", "r√©forme", "rois", "r√©forme", "exil"],
            "Esexil"],
            "Esdras": ["retourdras": ["retour", "", "temple", "temple", "loi", "loi", "r√©forme", "scribe"],
            "Nr√©forme", "scribe"],
            "N√©h√©mie":√©h√©mie": ["muraille", "J√©rusalem", "r√©forme", "g ["muraille", "J√©rusalem", "r√©forme", "gouverouverneur", "peuple"],
neur", "peuple"],
            "Esther": ["            "Esther": ["reine", "Mardreine", "Mardoch√©e", "Haman",och√©e", "Haman", "pourim", "d√©l "pourim", "d√©livrance"],
            "Jobivrance"],
            "Job": ["souffrance": ["souffrance", "amis", "Die", "amis", "u", "sagesse",Dieu", "sagesse", "restauration"],
 "restauration"],
                       "Psaumes": [" "Psaumes": ["louange", "pri√®re",louange", "pri√®re", "David", "Asaph", "David", "Asaph", "cantique"],
            "Prover "cantique"],
            "Proverbes": ["sagessebes": ["sagesse", "instruction", "c", "instruction", "crainte", "folierainte", "folie", "dis", "discipline"],
cipline"],
            "Eccl√©siaste": ["van            "Eccl√©siaste": ["vanit√©", "sit√©", "sagesse",agesse", "trav "travail",ail", "temps", " "temps", "mort"],
            "Cantique des Cantiquesmort"],
            "Cantique des Cantiques": ["amour",": ["amour", "f "fian√ßailles",ian√ßailles", "Sh "Shulamulamite",ite", " "SalSalomonomon",", "all√©gorie"],
            "all√©gorie"],
            "√âsa√Ø "√âsa√Øe": ["proph√®te", "e": ["proph√®te", "messie", "serviteur", "jugement", "salut"],
           messie", "serviteur", "jugement", "salut"],
            "J√©r√©mie": ["proph√®te", " "J√©r√©mie": ["proph√®te", "jugement", "noujugement", "nouvelle alliance", "lamentations", "vvelle alliance", "lamentations", "vocation"],
ocation"],
            "Lament            "Lamentations": ["douleurations": ["douleur", "J√©rusalem", "J√©rusalem", "dest", "destruction", "pleruction", "pleurs", "esp√©rance"],
            "√âurs", "esp√©rance"],
           z√©chiel": ["vision", " "√âz√©chiel": ["vision", "glorieglorieux",ux", "oss "ossements", "temple", "proph√®teements", "temple", "pro"],
            "Daniel": ["prophph√®te"],
            "Daniel": ["proph√®te", "visions",√®te", "visions", " "lion", "fournalion", "fournaise", "royaumesise", "royaumes"],
            "Os√©e":"],
            "Os√©e": ["pro ["proph√®te", "mariph√®te", "mariageage", "infid√©lit√©",", "infid√©lit√©", "alliance", "resta "alliance", "restaurationuration"],
            "Jo√´l":"],
            "Jo√´l": ["proph√®te ["proph√®te", "jour", "esprit", "jug", "jour", "esprit", "jugement", "restaurationement", "restauration"],
            "Amos": [""],
            "Amos": ["proph√®te", "proph√®te", "justice", "jugement", "pljustice", "jugement", "plomb", "restaurationomb", "restauration"],
            "Abdias": [""],
            "Abdias": ["proph√®te", "√âdom", "jugement", "orgueilproph√®te", "√âdom", "jugement", "orgueil", "S", "Sion"],
            "Jonas": ["proion"],
            "Jonas": ["proph√®te", "ph√®te", "Ninive", "Ninive", "baleine",baleine", "mis "mis√©ricorde", "mission√©ricorde", "mission"],
            "Mich√©e":"],
            "Mich√©e": ["proph√®te", ["proph√®te", " "Bethl√©em", "justiceBethl√©em", "justice", "mis√©ricorde", "mess", "mis√©ricorde", "messie"],
            "Nahie"],
            "Nahum":um": ["proph√®te", ["proph√®te", "Nin "Ninive", "jugementive", "jugement", "col√®re", "", "col√®re", "consolation"],
            "Habconsolation"],
            "Habacucacuc": ["proph": ["proph√®te√®te", "foi", "", "foi", "justice", "vision", "plainte"],
            "Sophonie": ["justice", "vision", "plainte"],
            "Sophonie": ["proph√®te", "jour", "jugement", "restes", "proph√®te", "jour", "jugement", "restes",joie"],
            "Agg√©e": ["proph√®te "joie"],
            "Agg√©e": ["proph√®te", "temple", "reconstruction", "temple", "reconstruction", "encouragement",", "encouragement", "glo "gloire"],
            "Zacharie": ["proph√®teire"],
            "Zacharie": ["proph", "visions", "messie√®te", "visions", "messie", "J√©r", "J√©rusalem", "restauration"],
usalem", "restauration"],
            "Mal            "Malachie": ["proph√®te", "alliance",achie": ["proph√®te", "alliance", " "d√Æme", "messagerd√Æme", "messager", "jour"],
            "", "jour"],
            "Matthieu": ["J√©susMatthieu": ["J√©sus",", "roya "royaume", "sermon", "miracles",ume", "sermon", "miracles", " "disdisciples"],
            "Marc":ciples"],
            "Marc": ["J√©sus", " ["J√©sus", "√©vangile√©vangile", "miracles", "serviteur", "", "miracles", "serviteur", "croixcroix"],
            "Luc":"],
            "Luc": ["J√©sus", "paraboles", " ["J√©sus", "paraboles", "m√©m√©decin", "salutdecin", "salut", "r√©s", "r√©surrection"],
            "Jean": ["J√©sus",urrection"],
            "Jean": ["J√©sus", "parole", " "parole", "signessignes", "amour", "amour", "vie"],
            "Actes":", "vie"],
            "Actes": ["Esprit", " ["Esprit", "ap√¥tres", "√©glise", "ap√¥tres", "√©glise", "missionmission", "Paul"],
            "", "Paul"],
            "Romains": ["Paul", "Romains": ["Paul", "foi", "foi", "gr√¢ce",gr√¢ce", "justification", " "justification", "√©lection"],
            "1 Corinthiens": ["√©lection"],
            "1 Corinthiens": ["Paul",Paul", "amour", "r√©surrection", "amour", "r√©surrection", "d "dons", "unit√©"],
            "2 Corinthiens": ["ons", "unit√©"],
            "2 Corinthiens": ["Paul", "Paul", "minist√®re", "minist√®re", "souffsouffrancesrances", "consolation", "gloire"],
            "", "consolation", "gloire"],
            "GalatesGalates": ["Paul", "libert√©", "": ["Paul", "libert√©loi", "gr√¢ce", "croix"],
            "√âph√©siens": ["Paul", "√©glise", "b√©n√©dictions", "loi", "gr√¢ce", "croix"],
            "√âph√©siens": ["Paul", "√©glise", "b√©n√©dictions", "armure", "unit√©"],
            "Philippiens": ["Paul", "joie", "Christ", "armure", "unit√©"],
            "Philippiens": ["Paul", "joie", "Christ", "humilit√©", "contentement"],
            "Colossiens": ["Paul", "Christ", "pl", "humilit√©", "contentement"],
            "Colossiens": ["Paul", "Christ", "pl√©nitude", "libert√©", "r√®gles"],
            "1 Thessalon√©nitude", "libert√©", "r√®gles"],
            "1 Thessaloniciens": ["iciens": ["Paul", "av√®nement", "saintet√©", "travail", "esp√©rance"],
           Paul", "av√®nement", "saintet√©", "travail", "esp√©rance"],
            "2 Thessaloniciens": ["Paul", "av√®nement", "d√©sordre", "travail", "pers√©v√©rance"],
            "1 Timoth√©e": [" "2 Thessaloniciens": ["Paul", "av√®nement", "d√©sordre", "travail", "pers√©v√©rance"],
            "1 Timoth√©e": ["Paul", "Timoth√©e", "doctrine", "conduite", "√©glise"],
            "2 Timoth√©e": ["Paul", "Timoth√©e", "doctrine", "conduite", "√©glise"],
            "2 Timoth√©e": ["Paul", "TimPaul", "Timoth√©e", "fid√©lit√©", "√âcritures", "combat"],
            "Tite": ["Paul", "Toth√©e", "fid√©lit√©", "√âcritures", "combat"],
            "Tite": ["Paul", "Tite", "doctrine", "bonnes ≈ìuvres", "√©glise"],
            "Phil√©mon": ["ite", "doctrine", "bonnes ≈ìuvres", "√©glise"],
            "Phil√©mon": ["Paul", "On√©sime", "esclPaul", "On√©sime", "esclavage", "r√©conciliation", "amour"],
            "H√©breux": ["Christ", "m√©lchavage", "r√©conciliation", "amour"],
            "H√©breux": ["Christ", "m√©lchis√©dek", "foi", "sacrifice",is√©dek", "foi", "sacrifice", "alliance"],
            "Jacques": [" "alliance"],
            "Jacques": ["foi", "≈ìuvres", "sagesse", "langue", "prifoi", "≈ìuvres", "sagesse", "langue", "pri√®re"],
            "1 Pierre": ["Pierre", "souffrance√®re"],
            "1 Pierre": ["Pierre", "souff", "esp√©rance", "saintet√©", "pasterance", "esp√©rance", "saintet√©",urs"],
            "2 "pasteurs"],
            "2 Pierre": ["Pierre", " Pierre": ["Pierre", "connaissanceconnaissance", "faux docteurs", "av√®nement", "croissance"],
            "1 Jean": ["Jean", "faux docteurs", "av√®nement", "croissance"],
            "1 Jean": ["Jean", "amour", "communion", "antichrist", "amour", "communion", "antichrist", "assurance"],
            "", "assurance"],
            "2 Jean": ["2 Jean": ["Jean", "v√©rit√©", "amourJean", "v√©rit√©", "amour", "hospitalit√©", "doctrine"],
            "3 Jean", "hospitalit√©", "doctrine"],
            "3 Jean": ["Jean", "Ga√Øus", "Diotr": ["Jean", "Ga√Øus", "Diotr√®phe", "hospitalit√©", "v√©rit√©"],
            "Jude√®phe", "hospitalit√©", "v√©rit√©"],
            "Jude": ["Jude", "contention", "apostas": ["Jude", "contention", "apostasie", "mis√©ricorde", "gloireie", "mis√©ricorde", "gloire"],
            "Apocalypse": ["Jean", "visions", "jug"],
            "Apocalypse": ["Jean", "visions", "jugements", "nouvelleements", "nouvelle cr√©ation", "victoire"]
        };

        // √âtat du jeu cr√©ation", "victoire"]
        };

        // √âtat du jeu
        let gameState =
        let gameState = {
            {
            currentLevel: "random currentLevel: "random",
",
            current            currentWord: "",
            currentWordWord: "",
            currentWordBook:Book: "",
            score: 0 "",
            score: 0,
           ,
            totalAttempts:  totalAttempts: 00,
            correctAttempts:,
            correctAttempts:  0,
            history:0,
            history: [],
            [],
            progressData: {}
        };

 progressData: {}
        };

        // √âl√©ments        // √âl√©ments DOM
        DOM
        const levelSelect = document const levelSelect = document.getElementById('level.getElementById('levelSelect');
        constSelect');
        const wordDisplay = document wordDisplay = document.getElementById('wordDisplay');
        const spellingInput =.getElementById('wordDisplay');
        const spellingInput = document.getElementById('spelling document.getElementById('spellingInput');
        const checkBtn = document.getElementById('Input');
        const checkBtn = document.getElementById('checkBtn');
checkBtn');
        const nextBtn =        const nextBtn = document.getElementById(' document.getElementById('nextBtn');
       nextBtn');
        const listen const listenBtn =Btn = document.getElementById('listenBtn');
        const resultMessage = document.getElementById('resultMessage');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const levelDisplay = document.getElementById('levelDisplay');
        const progressFill = document.getElementById('progressFill');
        document.getElementById('listenBtn');
        const resultMessage = document.getElementById('resultMessage');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const levelDisplay = document.getElementById('levelDisplay');
        const progressFill = document.getElementById('progressFill');
        const totalScore = document.getElementById('totalScore');
        const bestLevel = document.getElementById('bestLevel');
        const successRate = document.getElementById(' const totalScore = document.getElementById('totalScore');
        const bestLevel = document.getElementById('bestLevel');
        const successRate = document.getElementById('successRate');
        const historyList = document.getElementById('historyList');
        const themeToggle = document.getElementById('themeToggle');

        // Initialisation
        function init() {
            // ChargsuccessRate');
        const historyList = document.getElementById('historyList');
        const themeToggle = document.getElementById('themeToggle');

        // Initialisation
        function init() {
            // Charger leser les donn√©es sauvegard√©es donn√©es sauvegard√©es
           
            loadProgressData();
            
 loadProgressData();
            
            // Rempl            // Remplir le s√©lectir le s√©lecteur de niveaux
           eur de niveaux
            bible bibleBooks.forEach(bookBooks.forEach(book => {
                => {
                const option = const option = document.createElement('option document.createElement('option');
                option.value');
                option.value = book = book;
                option.text;
                option.textContent = book;
Content = book;
                levelSelect.appendChild                levelSelect.appendChild(option);
            });
            
            // D√©finir le niveau actuel(option);
            });
            
            // D√©finir le niveau actuel

            levelSelect.value = game            levelSelect.value = gameState.currentState.currentLevel;
Level;
            updateLevelDisplay();
            
            // Mettre √† jour            updateLevelDisplay();
            
            // Mettre √† jour l'affichage l'affichage du du score
            updateScore score
            updateScoreDisplay();
            
           Display();
            
            // M // Mettre √† jour les statistiquesettre √† jour les statistiques
            updateStats();

            updateStats();
            
            // √âv√©nements
            
            // √âv√©nements
            level            levelSelect.addEventListener('change',Select.addEventListener('change', onLevel onLevelChange);
            checkBtnChange);
            checkBtn.addEventListener('click', checkSpelling);
            nextBtn.addEventListener('click', getNewWord);
            listen.addEventListener('click', checkSpelling);
            nextBtn.addEventListener('click', getNewWord);
            listenBtn.addEventListener('click', speakCurrentBtn.addEventListener('click', speakCurrentWord);
Word);
            spellingInput.addEventListener            spellingInput.addEventListener('key('keypress', function(epress', function(e) {
               ) {
                if (e.key === if (e.key === 'Enter 'Enter') {
                    checkSpelling') {
                    checkSpelling();
               ();
                }
            });
            }
            });
            themeToggle themeToggle.addEventListener('click', toggle.addEventListener('click', toggleTheme);
            
Theme);
            
            // Appliquer            // Appliquer le th√®me le th√®me sauvegard√©
 sauvegard√©
            const            const savedTheme savedTheme = localStorage.getItem(' = localStorage.getItem('spellingGamespellingGameTheme') || 'light';
Theme') || 'light';
            document            document.documentElement.set.documentElement.setAttribute('data-theAttribute('data-theme', savedThememe', savedTheme);
           );
            themeToggle.textContent themeToggle.textContent = saved = savedThemeTheme === 'light === 'light'' ? 'üåô' : '‚òÄ ? 'üåô' : '‚òÄÔ∏è';
            
            //Ô∏è';
            
            // Premier mot
            getNewWord Premier mot
            getNewWord();
        }

        // Charg();
        }

        // Charger les donn√©es de progression
        function loader les donn√©es de progression
        function loadProgressData() {
            constProgressData() {
            const savedData = localStorage.getItem(' savedData = localStorage.getItem('spellingGameProgress');
spellingGameProgress');
            if (            if (savedData)savedData) {
                game {
                gameState.progressDataState.progressData = JSON.parse(savedData);
                
                // = JSON.parse(savedData);
                
                // R√©cup√©rer les donn√©es R√©cup√©rer les donn√©es pour pour le niveau actuel le niveau actuel
                if (gameState.progress
                if (gameState.progressDataData[gameState.currentLevel[gameState.currentLevel])]) {
                    const levelData = {
                    const levelData = game gameState.progressData[gameState.progressData[gameState.currentLevel];
                    gameState.currentLevel];
                    gameState.scoreState.score = levelData.score ||  = levelData.score || 0;
                    gameState.total0;
                    gameState.totalAttempts = levelData.totalAttempts = levelData.totalAttempts || 0;
Attempts || 0;
                    gameState.correctAttempts =                    gameState.correctAttempts = levelData.correctAttempts || levelData.correctAttempts || 0;
                    game 0;
                    gameState.history = levelDataState.history = levelData.history || [];
                }
            }
.history || [];
                }
            }
        }

        // Sauvegard        }

        // Sauvegarderer les donn√©es de progression les donn√©es de progression
        function saveProgressData()
        function saveProgressData() {
            {
            // Mettre √† jour les donn√©es // Mettre √† jour les donn√©es pour le niveau actuel
            pour le niveau actuel
            if (!gameState.progressData[gameState.currentLevel]) {
                gameState.progressData if (!gameState.progressData[gameState.currentLevel]) {
                gameState.progress[gameState.currentLevelData[gameState.currentLevel] = {};
           ] = {};
            }
            
            game }
            
            gameState.proState.progressData[gameState.currentgressData[gameState.currentLevel].Level].score = gameState.scorescore = gameState.score;
           ;
            gameState.pro gameState.progressData[gamegressData[gameState.currentLevelState.currentLevel].totalAttempts].totalAttempts = gameState.totalAttempt = gameState.totalAttempts;
s;
            gameState.pro            gameState.progressDatagressData[gameState.current[gameState.currentLevel].correctAttemptLevel].correctAttempts =s = gameState.correctAttempts gameState.correctAttempts;
            gameState;
            gameState.progressData.progressData[gameState[gameState.currentLevel].history.currentLevel].history = game = gameState.hState.history;
            
            // Sauistory;
            
            // Sauvegarder dansvegarder dans le localStorage
 le localStorage
            localStorage.setItem            localStorage.setItem('spelling('spellingGameProgress', JSONGameProgress', JSON.stringify.stringify(gameState(gameState.pro.progressDatagressData));
));
        }

        }

        // Changer de niveau
               // Changer de niveau
        function onLevelChange() function onLevelChange() {
            gameState.currentLevel = levelSelect {
            gameState.currentLevel = levelSelect.value;
            
            // Charger les donn√©es.value;
            
            // Charger les donn√©es pour ce niveau pour ce niveau
            if (game
            if (gameState.progressState.progressData[gameData[gameState.currentLevel])State.currentLevel]) {
                {
                const levelData = game const levelData = gameState.progressData[State.progressData[gameStategameState.currentLevel];
.currentLevel];
                gameState.score = levelData.score ||                 gameState.score = levelData.score || 0;
0;
                game                gameState.totalAttemptsState.totalAttempts = levelData.total = levelData.totalAttemptsAttempts || 0;
 || 0;
                gameState                gameState.correctAttempts =.correctAttempts = levelData levelData.correctAttempts.correctAttempts ||  || 0;
                gameState.history = levelData.history || [];
            }0;
                gameState.history = levelData.history || [];
            } else {
                // R√©initial else {
                // R√©initialiser pour uniser pour un nouveau niveau
                nouveau niveau
                gameState gameState.score = 0;
.score = 0;
                game                gameState.totalAttempts =State.totalAttempts = 0 0;
                gameState.correct;
                gameState.correctAttempts = 0;
Attempts = 0;
                game                gameState.history = [];
State.history = [];
            }
            
            }
            
            updateLevelDisplay            updateLevelDisplay();
();
            updateScore            updateScoreDisplay();
            updateStats();
Display            getNewWord();
        }

        // Obtenir un();
            updateStats();
            getNewWord();
        }

        nouveau mot
        function getNew // Obtenir un nouveau mot
        function getNewWord() {
            //Word() {
            // R√©initialiser R√©initialiser l'affichage l
            spellingInput.value = "";
            resultMessage.textContent = "";
           'affichage
            spellingInput.value = "";
            resultMessage.textContent = "";
            resultMessage.className = " resultMessage.className = "resultresult-message";
            
            //-message";
            
            // Choisir un livre
 Choisir un livre
            let book;
                       let book;
            if if (gameState.current (gameState.currentLevel === "random") {
                // S√©Level === "random") {
                // S√©lectionlectionner un livre au hasardner un livre au hasard

                const randomIndex = Math                const randomIndex = Math.floor(Math.random() * bibleBooks.floor(Math.random() * bibleBooks.length);
                book = bibleBooks.length);
                book = bibleBooks[randomIndex];
            } else[randomIndex];
            } else {
                book = gameState.currentLevel {
                book = gameState.current;
            }
            
            //Level;
            }
            
            // Choisir un mot dans Choisir un mot dans ce livre ce livre
            const words = spelling
            const words = spellingWords[book];
            ifWords[book];
            if (words (words && words.length >  && words.length > 00) {
) {
                               const const randomIndex = Math.floor(Math.random() * words.length);
                gameState.current randomIndex = Math.floor(Math.random() * words.length);
               Word = words[randomIndex];
                gameState.currentWord = words[randomIndex gameState.currentWordBook =];
                gameState.currentWordBook = book;
                
                // Afficher book;
                
                // Afficher le mot ( le mot (masqu√© pour l'√©pellation)
               masqu√© pour l'√©pellation)
                wordDisplay.textContent = " wordDisplay.textContent = "?";
?";
            } else {
                word            } else {
                wordDisplay.textContent = "ADisplay.textContent = "Aucun mot disponible pour ce niveau";
ucun mot disponible pour ce niveau";
            }
            
            // Focus sur            }
            
            // le champ de saisie Focus sur le champ de saisie
            spellingInput.focus
            spellingInput.focus();
       ();
        }

        // V√©rifier }

        // V√©rifier l'orthographe
 l'orthographe
        function        function checkSp checkSpelling()elling() {
            const userInput = spelling {
            const userInput = spellingInput.value.trim();
            
            if (!userInput) {
                resultInput.value.trim();
            
            if (!userInput) {
                resultMessage.textContent = "VMessage.textContent = "Veuillez entrer uneeuillez entrer une r√©ponse";
                r√©ponse";
                resultMessage.className = "result-message error";
 resultMessage.className = "result-message error";
                return;
            }
            
            // V√©rifier la r√©ponse (insensible √†                return;
            }
            
            // V√©rifier la r√©ponse ( la casse et aux accents)
            const normalizedinsensible √† la casse et aux accents)
            const normalizedInput = userInput.toLowerCaseInput = userInput.toLowerCase().().normalize("NFD").replacenormalize("NFD").replace(/[\u0300-\(/[\u0300-\u036u036f]/g, "");
            const normalizedWord = gameState.currentWord.toLowerCase().normalize("NFf]/g, "");
            const normalizedWord = gameState.currentWord.toLowerCase().normalize("NFD").replace(/[\uD").replace(/0300-\u036f[\u0300-\u036f]/g, "");
            
            const is]/g, "");
            
            const isCorrect = normalizedInput === normalizedWordCorrect = normalizedInput === normalizedWord;
            
            // M;
            
            // Mettre √† jour les statistiques
            gameettre √† jour les statistiques
            gameState.totalAttempts++;
            ifState.totalAttempts++;
            if (isCorrect) {
                game (isCorrect) {
                gameStateState.correctAttempts++;
               .correctAttempts++;
                gameState.score += 10;
                gameState.score += 10;
 resultMessage.textContent                resultMessage.textContent = "Correct !";
                resultMessage = "Correct !";
                result.className = "resultMessage.className = "result-message success";
           -message success";
            } else {
                } else {
                resultMessage.textContent resultMessage.textContent = `Incorrect. La bonne r√©ponse √©tait : = `Incorrect. La bonne r√©ponse √©tait : ${game ${gameStateState.currentWord}`.currentWord}`;
               ;
                resultMessage resultMessage.className = "result-m.className = "result-message error";
            }
            
           essage error";
            }
            
            // Ajouter √† // Ajouter √† l'historique
 l'historique
            gameState.history.unshift({
                           gameState.history.unshift({
 word: gameState.currentWord,
                word: gameState.currentWord,
                userInput: userInput                userInput: userInput,
               ,
                isCorrect: is isCorrect: isCorrect,
Correct,
                book: gameState.current                book: gameState.currentWordBook,
                timestamp: new DateWordBook,
                timestamp:().toLocaleString()
            });
 new Date().toLocaleString()
            });
            
            //            
            // Limiter Limiter l'historique aux 10 l'historique aux 10 derni√®res entr√©es
            if derni√®res entr√©es
            if (gameState.history.length > 10) (gameState.history.length >  {
                gameState.history10) {
                gameState.history = gameState.h = gameState.history.sliceistory.slice(0, 10);
            }
(0, 10);
            }
            
                       
            // Afficher le mot correct
            word // Afficher le mot correct
            wordDisplay.textContent = gameState.currentWordDisplay.textContent = gameState.currentWord;
            
            // Mettre;
            
            // Mettre √† jour l'affichage
            √† jour l'affichage updateScoreDisplay();
            updateStats();

            updateScoreDisplay();
            updateStats();
            
            // Sauve            
            // Sauvegardgarder les progr√®ser les progr√®s
           
            saveProgressData();
        saveProgressData();
        }

        // Lire le mot actuel }

        // Lire le mot
        function speakCurrentWord actuel
        function speakCurrentWord() {
            if (!() {
            if (!gameStategameState.currentWord) return.currentWord) return;
            
;
            
            if ('speechS            if ('speechSynthesis' in window) {
                constynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(gameState.currentWord);
                utterance.lang = 'fr-FR';
                utterance. utterance = new SpeechSynthesisUtterance(gameState.currentWord);
                utterance.lang = 'fr-FR';
                utterance.rate = rate = 0.90.9;
               ;
                utterance.pitch = 1 utterance.pitch = 1;
                
               ;
                
                // // Essayer de trouver une voix fran√ßaise
                const voices Essayer de trouver une voix fran√ßaise
                = speechSynthesis.getVoices();
 const voices = speechSynthesis.getVo                const frenchVoice =ices();
                const frenchVoice = voices.find(voice => 
 voices.find(voice => 
                    voice.lang                    voice.lang.includes('fr').includes('fr') && voice.name.includes('Female')
 && voice.name.includes('Female')
                );
                
                if                );
                
                if (f (frenchVoice) {
                   renchVoice) {
                    utterance.voice utterance.voice = frenchVoice;
 = frenchVoice;
                }
                
                speechSynthesis.speak(                }
                
                speechSynthesis.sutterance);
            }peak(utterance);
            } else {
 else {
                               alert(" alert("La synth√®seLa synth√®se vocale n'est pas support vocale n'est pas support√©e par votre navigate√©e par votre navigateur");
            }
        }

        // Mettre √†ur");
            }
        }

        // Mettre √† jour l'affichage du jour l'affichage du score
        function updateScoreDisplay() score
        function updateScoreDisplay() {
            scoreDisplay.textContent {
            scoreDisplay.textContent = gameState.score;
 = gameState.score;
            
                       
            // Mettre √† jour la barre de progression
            // Mettre √† jour la barre de progression
            const progressPercentage const progressPercentage = Math = Math.min(gameState.score /.min(gameState.score / 100 * 100 * 100 100, 100);
            progressFill.style.width =, 100);
            progressFill.style.width = `${progressPercentage}%`;
 `${progressPercentage}%`;
        }

        }

        // Mettre √†        // Mettre √† jour l jour l'affichage du niveau'affichage du niveau
        function updateLevelDisplay() {
           
        function updateLevelDisplay() {
            levelDisplay.textContent = gameState.currentLevel === "random" levelDisplay.textContent = gameState.currentLevel === "random" ? "Al√© ? "Al√©atoire"atoire" : gameState.currentLevel;
        }

 : gameState.currentLevel;
        }

        // Mettre √† jour        // Mettre √† jour les statist les statistiques
        function updateStatsiques
        function updateStats() {
            // Score total
            let totalScoreValue() {
            // Score total
            let totalScoreValue = 0;
            Object = 0;
            Object.values(gameState.progressData).forEach.values(gameState.progressData).forEach(levelData => {
                total(levelData => {
                totalScoreValue += levelDataScoreValue += levelData.score || 0;
            });
           .score || 0;
            });
            totalScore.textContent = totalScoreValue totalScore.textContent = totalScoreValue;
            
            //;
            
            // Meilleur niveau
            let best Meilleur niveau
            let bestLevelValue = "-";
            let highestLevelValue = "-";
            let highestScore = 0;
            Object.Score = 0;
            Object.entries(gameState.progressDataentries(gameState.progressData).forEach(([level, data]) =>).forEach(([level, data]) => {
                if (data {
                if (data.score >.score > highestScore) {
                    highestScore) {
                    highestScore highestScore = data.score;
 = data.score;
                    bestLevelValue                    bestLevelValue = level === "random" ? "Al = level === "random" ? "Al√©atoire" :√©atoire" : level;
                }
 level;
                }
            });
            });
            bestLevel.text            bestLevel.textContent = bestLevelValue;
            
            // Taux deContent = bestLevelValue;
            
            // Taux de r√©ussite r√©ussite
            const success
            const successRateValueRateValue = gameState.totalAttempts >  = gameState.totalAttempts > 0 
               0 
                ? Math.round((gameState.correct ? Math.round((gameState.correctAttempts /Attempts / gameState.totalAttempt gameState.totalAttempts) * 100) 
                : s) * 100) 
                : 0;
            successRate.text0;
            successRate.textContentContent = `${successRate = `${successRateValue}%`;
            
Value}%`;
            
            // Historique
            historyList.innerHTML            // Historique
            historyList.innerHTML = "";
            gameState.history.forEach(item = "";
            gameState.h => {
                const li = documentistory.forEach(item => {
                const li = document.createElement('li');
                li.className.createElement('li');
                li.className = ` = `history-item ${itemhistory-item ${item.isCorrect ? '.isCorrect ? 'correct' :correct' : 'incorrect'}`;
                li.innerHTML = `
 'incorrect'}`;
                li.innerHTML = `
                    <                    <span>${item.wordspan>${item.word}</span>
}</span>
                    <span>                    <span>${item.isCorrect ? '‚úì' : '${item.isCorrect ? '‚úì' : '‚úó'}</‚úó'}</span>
span>
                `;
                               `;
                historyList.appendChild(li);
            });
 historyList.appendChild(li);
            });
        }

        // Bas        }

        // Basculer entre les th√®mes clair et sombre
culer entre les th√®mes clair et sombre
        function toggle        function toggleTheme() {
           Theme() {
            const currentTheme = document.documentElement.getAttribute const currentTheme = document.documentElement.getAttribute('data-theme('data-theme');
           ');
            const newTheme = current const newTheme = currentTheme === 'Theme === 'light' ? 'light' ? 'dark' : 'light';
            
           dark' : 'light';
            
            document.documentElement.setAttribute document.documentElement.setAttribute('data('data-theme', newTheme);
-theme', newTheme);
            themeToggle.textContent = newTheme            themeToggle.textContent = newTheme === 'light' ? ' === 'light' ? 'üåôüåô' : '' : '‚òÄÔ∏è';
            
            localStorage.setItem‚òÄÔ∏è';
            
            localStorage.setItem('spellingGameTheme',('spellingGameTheme', newTheme);
        }

        // Initialiser le newTheme);
        }

        // Initialiser le jeu au chargement de la page jeu au chargement de la page
        document.addEventListener('
        document.addEventListener('DOMContentLoaded', init);
    </DOMContentLoaded', init);
    </script>
</body>
</script>
</body>
</html>