<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match en Ligne</title>
    <style>
        /* Styles CSS int√©gr√©s */
        body {
            font-family: 'Comic Sans MS', sans-serif;
            background: linear-gradient(135deg, #4b6cb7, #182848);
            color: white;
            margin: 0;
            padding: 0;
        }
        .header {
            text-align: center;
            margin-top: 20px;
        }
        .game-container {
            display: none;
        }
        .active { color: yellow; }
    </style>
</head>
<body>

    <div id="header" class="header">
        <h1>Match en Ligne</h1>
        <p id="status">Statut: Hors ligne</p>
    </div>

    <!-- Menu principal -->
    <div id="gameMode">
        <button onclick="startSoloGame()">üéØ Mode Solo</button>
        <button onclick="startMultiplayer()">üë• Mode Multiplayer</button>
    </div>

    <!-- Saisie du nom -->
    <div id="nameInputArea">
        <input type="text" id="playerName" placeholder="Entrez votre pseudo" />
        <button onclick="submitName()">Valider</button>
    </div>

    <!-- Interface Multijoueur -->
    <div id="multiplayerInterface" class="game-container">
        <button onclick="createSession()">üè† Cr√©er une salle</button>
        <button onclick="joinSession()">üîó Rejoindre une salle</button>
    </div>

    <!-- Interface rejoindre -->
    <div id="joinInterface" class="game-container">
        <input type="text" id="sessionCode" placeholder="Code √† 4 lettres" />
        <button onclick="joinGame()">Rejoindre</button>
    </div>

    <!-- Zone de jeu -->
    <div id="gameArea" class="game-container">
        <h2 id="gameTitle">Jeu en cours: √âpellation</h2>
        <div id="timer">00:00</div>
        <div id="question">Quelle est l'orthographe du mot : "chat" ?</div>
        <input type="text" id="answer" />
        <button onclick="submitAnswer()">Soumettre</button>
        <div id="score">Score: 0</div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js"></script>
    <script>
        // Initialisation Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBr8Fzdvh1En3rAxGFipOYfgr0YDeeM_Bo",
            authDomain: "match-en-ligne.firebaseapp.com",
            projectId: "match-en-ligne",
            storageBucket: "match-en-ligne.firebasestorage.app",
            messagingSenderId: "706011207623",
            appId: "1:706011207623:web:17374990a6202b64f0abe2",
            measurementId: "G-D9XYRE3W2M"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const analytics = firebase.getAnalytics(app);

        // Variables globales
        let playerName, gameState = 'waiting';

        // Fonction pour d√©marrer le jeu solo
        function startSoloGame() {
            document.getElementById('gameMode').style.display = 'none';
            document.getElementById('nameInputArea').style.display = 'block';
        }

        // Soumettre le pseudo du joueur
        function submitName() {
            playerName = document.getElementById('playerName').value;
            if (playerName.length >= 2) {
                document.getElementById('nameInputArea').style.display = 'none';
                document.getElementById('multiplayerInterface').style.display = 'block';
                document.getElementById('status').textContent = 'Statut: En ligne';
            } else {
                alert("Le pseudo doit comporter au moins 2 caract√®res.");
            }
        }

        // D√©marrer le mode multijoueur
        function startMultiplayer() {
            document.getElementById('gameMode').style.display = 'none';
            document.getElementById('nameInputArea').style.display = 'block';
        }

        // Cr√©er une session
        function createSession() {
            let sessionCode = generateSessionCode();
            console.log('Session cr√©√©e: ' + sessionCode);
            document.getElementById('joinInterface').style.display = 'block';
        }

        // Rejoindre une session
        function joinSession() {
            document.getElementById('joinInterface').style.display = 'block';
        }

        // Rejoindre la salle
        function joinGame() {
            let sessionCode = document.getElementById('sessionCode').value;
            if (sessionCode.length === 4) {
                console.log('Rejoindre la session: ' + sessionCode);
            } else {
                alert("Le code de session doit comporter 4 lettres.");
            }
        }

        // G√©n√©ration d'un code de session al√©atoire
        function generateSessionCode() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 4; i++) {
                code += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return code;
        }

        // Soumettre une r√©ponse
        function submitAnswer() {
            let answer = document.getElementById('answer').value;
            console.log("R√©ponse soumise: " + answer);
        }
    </script>
</body>
</html>