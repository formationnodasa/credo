

m<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sp√©cial Dioc√®se</title>
    <style>
        :root {
            --primary-color: #8a2be2;
            --secondary-color: #9370db;
            --success-color: #32cd32;
            --warning-color: #ffa500;
            --danger-color: #ff4500;
            --light-color: rgba(255, 255, 255, 0.1);
            --dark-color: #0f0f23;
            --text-color: #ffffff;
            --background-color: transparent;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animation Galaxie */
        .galaxy {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(125deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.3;
        }

        .nebula-1 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, #8a2be2, transparent);
            top: 10%;
            left: 10%;
            animation: float 25s infinite linear;
        }

        .nebula-2 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, #9370db, transparent);
            bottom: 10%;
            right: 10%;
            animation: float 30s infinite linear reverse;
        }

        .nebula-3 {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, #4b0082, transparent);
            top: 50%;
            left: 80%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, 20px) rotate(90deg); }
            50% { transform: translate(0, 40px) rotate(180deg); }
            75% { transform: translate(-20px, 20px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--secondary-color);
            background: rgba(15, 15, 35, 0.7);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.7);
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--primary-color);
        }

        .game-container {
            background: rgba(15, 15, 35, 0.7);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .player-section {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }

        .level-selector {
            margin-bottom: 20px;
        }

        select, input, button {
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 1rem;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
        }

        button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        button:hover::after {
            left: 100%;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color), #228b22);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color), #ff8c00);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color), #dc143c);
        }

        .word-display {
            text-align: center;
            font-size: 2rem;
            margin: 25px 0;
            min-height: 60px;
            font-weight: bold;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.7);
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .word-display.revealed {
            color: var(--success-color);
            text-shadow: 0 0 10px rgba(50, 205, 50, 0.7);
        }

        .result-message {
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
            min-height: 24px;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .success {
            color: var(--success-color);
            background: rgba(50, 205, 50, 0.1);
            border: 1px solid rgba(50, 205, 50, 0.3);
        }

        .error {
            color: var(--danger-color);
            background: rgba(255, 69, 0, 0.1);
            border: 1px solid rgba(255, 69, 0, 0.3);
        }

        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            flex: 1;
            min-width: 120px;
            text-align: center;
        }

        .progress-section {
            margin-top: 30px;
            background: rgba(15, 15, 35, 0.7);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-section h2 {
            margin-bottom: 15px;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.7);
        }

        .history-list {
            list-style-type: none;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .history-item {
            padding: 10px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .correct {
            color: var(--success-color);
            border-left: 4px solid var(--success-color);
        }

        .incorrect {
            color: var(--danger-color);
            border-left: 4px solid var(--danger-color);
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            
            .game-container, .progress-section {
                padding: 15px;
            }
            
            .word-display {
                font-size: 1.5rem;
            }
            
            .player-section {
                flex-direction: column;
                align-items: stretch;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .stats {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Animation Galaxie -->
    <div class="galaxy" id="galaxy"></div>
    

    
    <header>
        <h1>Sp√©cial Dioc√®se</h1>
        <p> Ins√©rez votre nom afin de d√©couvrir le niveau auquel vous √©voluez. Veillez √† toujours utiliser le m√™me nom chaque fois que vous souhaiterez suivre votre progression. </p>
    </header>

    <div class="game-container">
        <div class="player-section">
            <input type="text" id="playerName" placeholder="Votre nom">
            <button id="savePlayerBtn">Enregistrer</button>
        </div>

        <div class="level-selector">
            <select id="levelSelect">
                <option value="random">Niveau Al√©atoire</option>
                <!-- Les options de niveau seront ajout√©es dynamiquement -->
            </select>
        </div>

        <div class="word-display" id="wordDisplay">
            Cliquez sur "Nouveau mot" pour commencer
        </div>

        <div class="result-message" id="resultMessage"></div>

        <button id="listenBtn">√âcouter le mot</button>
        <input type="text" id="spellingInput" placeholder="Entrez l'orthographe du mot">
        <div style="display: flex; gap: 10px;">
            <button id="checkBtn" style="flex: 1;">V√©rifier</button>
            <button id="nextBtn" class="btn-warning" style="flex: 1;">Nouveau mot</button>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <span>Score: <span id="scoreDisplay">0</span></span>
                </div>
                <div class="stat-item">
                    <span>Niveau: <span id="levelDisplay">-</span></span>
                </div>
            </div>
        </div>
    </div>

    <div class="progress-section">
        <h2>üìä Mes progr√®s</h2>
        <div class="stats">
            <div class="stat-item">
                <p>Score total: <span id="totalScore">0</span></p>
            </div>
            <div class="stat-item">
                <p>Meilleur niveau: <span id="bestLevel">-</span></p>
            </div>
            <div class="stat-item">
                <p>R√©ussite: <span id="successRate">0%</span></p>
            </div>
        </div>
        <div class="stats">
            <div class="stat-item">
                <p>R√©ussites: <span id="successCount">0</span></p>
            </div>
            <div class="stat-item">
                <p>√âchecs: <span id="failureCount">0</span></p>
            </div>
        </div>
        
        <h3>Historique r√©cent</h3>
        <ul class="history-list" id="historyList">
            <!-- L'historique sera ajout√© dynamiquement -->
        </ul>
    </div>

    <script>
        // Donn√©es du jeu
        const bibleBooks = [
            "Gen√®se", "Exode", "L√©vitique", "Nombres", "Deut√©ronome", "Josu√©", "Juges",
            "Ruth", "1 Samuel", "2 Samuel", "1 Rois", "2 Rois", "1 Chroniques", "2 Chroniques",
            "Esdras", "N√©h√©mie", "Esther", "Job", "Psaumes", "Proverbes", "Eccl√©siaste", "Cantique des Cantiques",
            "√âsa√Øe", "J√©r√©mie", "Lamentations", "√âz√©chiel", "Daniel", "Os√©e", "Jo√´l", "Amos", "Abdias",
            "Jonas", "Mich√©e", "Nahum", "Habacuc", "Sophonie", "Agg√©e", "Zacharie", "Malachie",
            "Matthieu", "Marc", "Luc", "Jean", "Actes", "Romains", "1 Corinthiens", "2 Corinthiens",
            "Galates", "√âph√©siens", "Philippiens", "Colossiens", "1 Thessaloniciens", "2 Thessaloniciens",
            "1 Timoth√©e", "2 Timoth√©e", "Tite", "Phil√©mon", "H√©breux", "Jacques",
            "1 Pierre", "2 Pierre", "1 Jean", "2 Jean", "3 Jean", "Jude", "Apocalypse"
        ];

const spellingWords = {
    "Gen√®se": [
        "Dieu", "Yahv√© Dieu", "Adam", "√àve", "serpent", "Ca√Øn", "Abel", "H√©nok", "Irad", "Mehuya√´l",
        "Metusha√´l", "Lamek", "Ada", "Cilla", "Yabal", "Yubal", "Tubal-Ca√Øn", "Naama", "Seth", "Enosh",
        "Q√©n√¢n", "Mahalal√©el", "Y√©red", "H√©nok", "Mathusalem", "Lamek", "No√©", "Sem", "Cham", "Japhet",
        "Nephilim", "ch√©rubins", "Nemrod", "Gomer", "Magog", "Yav√¢n", "Tubal", "Moshek", "Tiras", "Ashkenaz",
        "Riphat", "Togarma", "Elisha", "Kush", "Mi√ßrayim", "Put", "Canaan", "S√©ba", "Havila", "Sabta",
        "Rama", "Sabteka", "Sheba", "Ded√¢n", "Ashshur", "Arpakshad", "Lud", "Aram", "U√ß", "Hul",
        "G√©ter", "Mash", "Sh√©lah", "Eber", "P√©leg", "Yoqt√¢n", "Almodad", "Sh√©leph", "Ha√ß√ßarmavet", "Y√©rah",
        "Hadoram", "Uzal", "Diqla", "Obal", "Abima√´l", "Ophir", "Yobab", "R√©u", "Serug", "Nahor",
        "T√©rah", "Abram", "Har√¢n", "Lot", "Sara√Ø", "Milka", "Yiska", "ciel", "terre", "ab√Æme",
        "vent", "eaux", "lumi√®re", "t√©n√®bres", "jour", "nuit", "firmament", "mers", "verdure", "herbes",
        "arbres", "luminaires", "soleil", "lune", "√©toiles", "serpents", "b√™tes", "bestiaux", "bestioles",
        "arbre de vie", "arbre de la connaissance", "jardin d'Eden", "fleuve d'Eden", "Pish√¥n", "Havila",
        "bdellium", "cornaline", "Gih√¥n", "Kush", "Tigre", "Assur", "Euphrate", "c√¥te", "feuilles", "sueur",
        "pain", "tuniques", "glaive", "sol", "sang", "Nod", "ville", "signe", "arche", "d√©luge", "bitume",
        "corbeau", "colombe", "rameau", "autel", "holocaustes", "arc", "vin", "vigne", "nudit√©", "manteau",
        "esclave", "√Æles", "Babel", "Erek", "Akkad", "Shin√©ar", "Ninive", "Rehobot-Ir", "Kalah", "R√®s√®n",
        "Lud", "Anam", "Lehab", "Naphtuh", "Patros", "Kasluh", "Kaphtor", "Philistins", "Sidon", "J√©bus√©en",
        "Amorite", "Girgashite", "Hivvite", "Arqite", "Sinite", "Arvadite", "Cemarite", "Hamatite", "G√©rar",
        "Gaza", "Sodome", "Gomorrhe", "Adma", "Ceboyim", "L√©sha", "tour", "langue", "Ur", "Chald√©ens", "Sara",
        "Perizzites", "Amraphel", "Aryok", "Kedor-Laomer", "Tid√©al", "B√©ra", "Birsha", "Shin√©ab", "Sh√©me√©ber",
        "B√©la", "Repha√Øm", "Zuzim", "Emim", "Horites", "Amal√©cites", "Mambr√©", "Eshkol", "Aner", "Melchis√©dech",
        "Shalem", "El Elyon", "√âli√©zer", "Q√©nites", "Qenizzites", "Qadmonites", "Hittites", "Agar", "Isma√´l",
        "Ange de Yahv√©", "El-Ro√Ø", "El Shadda√Ø", "Isaac", "h√¥tes", "Moab", "Ben-Ammi", "Abim√©lek", "Pikol",
        
        // Personnages suppl√©mentaires
        "Jacob", "Laban", "Rachel", "L√©a", "Esa√º", "Isra√´l", "Dina", "Sichem", "Hamor", "Sim√©on", "L√©vi",
        "D√©bora", "Ruben", "Bilha", "Juda", "Issachar", "Zabulon", "Joseph", "Benjamin", "Dan", "Nephtali",
        "Gad", "Asher", "Ada", "El√¥n", "Oholibama", "Ana", "Cib√©√¥n", "Basmat", "Nebayot", "Eliphaz", "R√©uel",
        "Y√©ush", "Yalam", "Qorah", "Timna", "Amaleq", "Nahat", "Z√©rah", "Shamma", "Mizza", "T√©m√¢n", "Omar",
        "Cepho", "Qenaz", "Gatam", "S√©√Ør", "Lot√¢n", "Shobal", "Dish√¥n", "E√ßer", "Dish√¢n", "B√©la", "Yobab",
        "Husham", "Hadad", "Samla", "Sha√ªl", "Baal-Han√¢n", "Timna", "Alva", "Yet√®t", "Ela", "Pin√¥n", "Mib√ßar",
        "Magdiel", "Iram", "Potiphar", "Asnat", "Poti-Ph√©ra", "Manass√©", "Ephra√Øm", "Ephr√¥n",
        
        // Termes et lieux suppl√©mentaires
        "Padd√¢n-Aram", "teraphim", "Galaad", "Yegar Sahad√ªta", "Gal√©ed", "Mi√ßpa", "Mahanayim", "S√©√Ør",
        "Jourdain", "Yabboq", "Penuel", "nerf sciatique", "Sukkot", "Ephrata", "Bethl√©em", "Migdal-Ed√®r",
        "Qiryat-Arba", "H√©bron", "sh√©ol", "Dinhaba", "Bo√ßra", "Avvit", "Masr√©qa", "Rehobot-ha-Nahar", "Pa√º",
        "Meh√©tab√©el", "Matred", "M√©-Zahab", "Dot√¢n", "Gosh√®n", "Rams√®s", "Makp√©la", "Gor√®n-ha-Atad",
        "Abel-Mi√ßrayim", "On", "Cophnat-Pan√©ah",
        
        // Fils de Jacob et leurs descendants
        "H√©nok", "Pallu", "He√ßr√¥n", "Karmi", "Yemuel", "Yam√Æn", "Ohad", "Yak√Æn", "Cohar", "Sha√ªl",
        "Gersh√¥n", "Qehat", "Merari", "Er", "On√¢n", "Sh√©la", "P√©r√®√ß", "He√ßr√¥n", "Hamul", "Tola", "Puvva",
        "Yashub", "Shimr√¥n", "S√©red", "El√¥n", "Yahl√©el", "Ceph√¥n", "Haggi", "Shuni", "E√ßb√¥n", "Eri", "Arodi",
        "Ar√©li", "Yimna", "Yishva", "Yishvi", "Beria", "S√©rah", "H√©ber", "Malkiel", "B√©la", "B√©ker", "Ashbel",
        "G√©ra", "Naam√¢n", "Ehi", "Rosh", "Muppim", "Huppim", "Ard", "Hushim", "Yah√ß√©el", "Guni", "Y√©√ßer", "Shillem"
    ],
            "Exode": ["Pharaon", "Mo√Øse", "plaies", "d√©sert", "loi"],
            "L√©vitique": ["sacrifice", "pr√™tre", "purification", "saint", "offrande"],
            "Nombres": ["recensement", "d√©sert", "manne", "serpent", "proph√©tie"],
            "Deut√©ronome": ["commandements", "alliance", "terre", "b√©n√©diction", "mal√©diction"],
            "Josu√©": ["J√©richo", "Canaan", "conqu√™te", "partage", "tribus"],
            "Juges": ["Samson", "D√©bora", "G√©d√©on", "victoire", "cycle"],
            "Ruth": ["Moab", "glane", "rachat", "Booz", "anc√™tre"],
            "1 Samuel": ["Sa√ºl", "David", "Goliath", "proph√®te", "onction"],
            "2 Samuel": ["J√©rusalem", "alliance", "absalom", "r√©volte", "royaume"],
            "1 Rois": ["Salomon", "temple", "sagesse", "schisme", "proph√®tes"],
            "2 Rois": ["exil", "proph√®tes", "rois", "chute", "Assyrie"],
            "1 Chroniques": ["g√©n√©alogie", "David", "temple", "l√©vites", "chroniques"],
            "2 Chroniques": ["Salomon", "temple", "rois", "r√©forme", "exil"],
            "Esdras": ["retour", "temple", "loi", "r√©forme", "scribe"],
            "N√©h√©mie": ["muraille", "J√©rusalem", "r√©forme", "gouverneur", "peuple"],
            "Esther": ["reine", "Mardoch√©e", "Haman", "pourim", "d√©livrance"],
            "Job": ["souffrance", "amis", "Dieu", "sagesse", "restauration"],
            "Psaumes": ["louange", "pri√®re", "David", "Asaph", "cantique"],
            "Proverbes": ["sagesse", "instruction", "crainte", "folie", "discipline"],
            "Eccl√©siaste": ["vanit√©", "sagesse", "travail", "temps", "mort"],
            "Cantique des Cantiques": ["amour", "fian√ßailles", "Shulamite", "Salomon", "all√©gorie"],
            "√âsa√Øe": ["proph√®te", "messie", "serviteur", "jugement", "salut"],
            "J√©r√©mie": ["proph√®te", "jugement", "nouvelle alliance", "lamentations", "vocation"],
            "Lamentations": ["douleur", "J√©rusalem", "destruction", "pleurs", "esp√©rance"],
            "√âz√©chiel": ["vision", "glorieux", "ossements", "temple", "proph√®te"],
            "Daniel": ["proph√®te", "visions", "lion", "fournaise", "royaumes"],
            "Os√©e": ["proph√®te", "mariage", "infid√©lit√©", "alliance", "restauration"],
            "Jo√´l": ["proph√®te", "jour", "esprit", "jugement", "restauration"],
            "Amos": ["proph√®te", "justice", "jugement", "plomb", "restauration"],
            "Abdias": ["proph√®te", "√âdom", "jugement", "orgueil", "Sion"],
            "Jonas": ["proph√®te", "Ninive", "baleine", "mis√©ricorde", "mission"],
            "Mich√©e": ["proph√®te", "Bethl√©em", "justice", "mis√©ricorde", "messie"],
            "Nahum": ["proph√®te", "Ninive", "jugement", "col√®re", "consolation"],
            "Habacuc": ["proph√®te", "foi", "justice", "vision", "plainte"],
            "Sophonie": ["proph√®te", "jour", "jugement", "restes", "joie"],
            "Agg√©e": ["proph√®te", "temple", "reconstruction", "encouragement", "gloire"],
            "Zacharie": ["proph√®te", "visions", "messie", "J√©rusalem", "restauration"],
            "Malachie": ["proph√®te", "alliance", "d√Æme", "messager", "jour"],
            "Matthieu": ["J√©sus", "royaume", "sermon", "miracles", "disciples"],
            "Marc": ["J√©sus", "√©vangile", "miracles", "serviteur", "croix"],
            "Luc": ["J√©sus", "paraboles", "m√©decin", "salut", "r√©surrection"],
            "Jean": ["J√©sus", "parole", "signes", "amour", "vie"],
            "Actes": ["Esprit", "ap√¥tres", "√©glise", "mission", "Paul"],
            "Romains": ["Paul", "foi", "gr√¢ce", "justification", "√©lection"],
            "1 Corinthiens": ["Paul", "amour", "r√©surrection", "dons", "unit√©"],
            "2 Corinthiens": ["Paul", "minist√®re", "souffrances", "consolation", "gloire"],
            "Galates": ["Paul", "libert√©", "loi", "gr√¢ce", "croix"],
            "√âph√©siens": ["Paul", "√©glise", "b√©n√©dictions", "armure", "unit√©"],
            "Philippiens": ["Paul", "joie", "Christ", "humilit√©", "contentement"],
            "Colossiens": ["Paul", "Christ", "pl√©nitude", "libert√©", "r√®gles"],
            "1 Thessaloniciens": ["Paul", "av√®nement", "saintet√©", "travail", "esp√©rance"],
            "2 Thessaloniciens": ["Paul", "av√®nement", "d√©sordre", "travail", "pers√©v√©rance"],
            "1 Timoth√©e": ["Paul", "Timoth√©e", "doctrine", "conduite", "√©glise"],
            "2 Timoth√©e": ["Paul", "Timoth√©e", "fid√©lit√©", "√âcritures", "combat"],
            "Tite": ["Paul", "Tite", "doctrine", "bonnes ≈ìuvres", "√©glise"],
            "Phil√©mon": ["Paul", "On√©sime", "esclavage", "r√©conciliation", "amour"],
            "H√©breux": ["Christ", "m√©lchis√©dek", "foi", "sacrifice", "alliance"],
            "Jacques": ["foi", "≈ìuvres", "sagesse", "langue", "pri√®re"],
            "1 Pierre": ["Pierre", "souffrance", "esp√©rance", "saintet√©", "pasteurs"],
            "2 Pierre": ["Pierre", "connaissance", "faux docteurs", "av√®nement", "croissance"],
            "1 Jean": ["Jean", "amour", "communion", "antichrist", "assurance"],
            "2 Jean": ["Jean", "v√©rit√©", "amour", "hospitalit√©", "doctrine"],
            "3 Jean": ["Jean", "Ga√Øus", "Diotr√®phe", "hospitalit√©", "v√©rit√©"],
            "Jude": ["Jude", "contention", "apostasie", "mis√©ricorde", "gloire"],
            "Apocalypse": ["Jean", "visions", "jugements", "nouvelle cr√©ation", "victoire"]
        };

        // √âtat du jeu
        let gameState = {
            currentPlayer: "",
            currentLevel: "random",
            currentWord: "",
            currentWordBook: "",
            score: 0,
            totalAttempts: 0,
            correctAttempts: 0,
            history: [],
            progressData: {}
        };

        // √âl√©ments DOM
        const playerNameInput = document.getElementById('playerName');
        const savePlayerBtn = document.getElementById('savePlayerBtn');
        const levelSelect = document.getElementById('levelSelect');
        const wordDisplay = document.getElementById('wordDisplay');
        const spellingInput = document.getElementById('spellingInput');
        const checkBtn = document.getElementById('checkBtn');
        const nextBtn = document.getElementById('nextBtn');
        const listenBtn = document.getElementById('listenBtn');
        const resultMessage = document.getElementById('resultMessage');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const levelDisplay = document.getElementById('levelDisplay');
        const progressFill = document.getElementById('progressFill');
        const totalScore = document.getElementById('totalScore');
        const bestLevel = document.getElementById('bestLevel');
        const successRate = document.getElementById('successRate');
        const successCount = document.getElementById('successCount');
        const failureCount = document.getElementById('failureCount');
        const historyList = document.getElementById('historyList');
        const themeToggle = document.getElementById('themeToggle');
        const galaxy = document.getElementById('galaxy');

        // Variable pour suivre le bouton vocal actif
        let currentVoiceButton = null;

        // Initialisation
        function init() {
            // Cr√©er l'animation de galaxie
            createGalaxy();
            
            // Charger les donn√©es sauvegard√©es
            loadProgressData();
            
            // Remplir le s√©lecteur de niveaux
            bibleBooks.forEach(book => {
                const option = document.createElement('option');
                option.value = book;
                option.textContent = book;
                levelSelect.appendChild(option);
            });
            
            // D√©finir le niveau actuel
            levelSelect.value = gameState.currentLevel;
            updateLevelDisplay();
            
            // Mettre √† jour l'affichage du score
            updateScoreDisplay();
            
            // Mettre √† jour les statistiques
            updateStats();
            
            // √âv√©nements
            savePlayerBtn.addEventListener('click', savePlayerName);
            levelSelect.addEventListener('change', onLevelChange);
            checkBtn.addEventListener('click', checkSpelling);
            nextBtn.addEventListener('click', getNewWord);
            listenBtn.addEventListener('click', speakCurrentWord);
            spellingInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkSpelling();
                }
            });
            themeToggle.addEventListener('click', toggleTheme);
            
            // Appliquer le th√®me sauvegard√©
            const savedTheme = localStorage.getItem('spellingGameTheme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            themeToggle.textContent = savedTheme === 'light' ? '' : '';
            
            // Premier mot
            getNewWord();
        }

        // Cr√©er l'animation de galaxie
        function createGalaxy() {
            // Cr√©er des √©toiles
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Taille al√©atoire
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Position al√©atoire
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // Animation delay al√©atoire
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                galaxy.appendChild(star);
            }
        }

        // Enregistrer le nom du joueur
        function savePlayerName() {
            const playerName = playerNameInput.value.trim();
            if (playerName) {
                gameState.currentPlayer = playerName;
                localStorage.setItem('spellingGamePlayer', playerName);
                
                // Animation de confirmation
                savePlayerBtn.textContent = "‚úì Enregistr√©";
                savePlayerBtn.style.background = "linear-gradient(135deg, var(--success-color), #228b22)";
                setTimeout(() => {
                    savePlayerBtn.textContent = "Enregistrer";
                    savePlayerBtn.style.background = "linear-gradient(135deg, var(--primary-color), var(--secondary-color))";
                }, 2000);
                
                // Charger les donn√©es de ce joueur
                loadProgressData();
                updateStats();
            } else {
                alert("Veuillez entrer un nom valide");
            }
        }

        // Charger les donn√©es de progression
        function loadProgressData() {
            // Charger le nom du joueur
            const savedPlayer = localStorage.getItem('spellingGamePlayer');
            if (savedPlayer) {
                gameState.currentPlayer = savedPlayer;
                playerNameInput.value = savedPlayer;
            }
            
            // Charger les donn√©es de progression
            const savedData = localStorage.getItem('spellingGameProgress');
            if (savedData) {
                const allProgressData = JSON.parse(savedData);
                
                // Si un joueur est d√©fini, charger ses donn√©es
                if (gameState.currentPlayer && allProgressData[gameState.currentPlayer]) {
                    gameState.progressData = allProgressData[gameState.currentPlayer];
                    
                    // R√©cup√©rer les donn√©es pour le niveau actuel
                    if (gameState.progressData[gameState.currentLevel]) {
                        const levelData = gameState.progressData[gameState.currentLevel];
                        gameState.score = levelData.score || 0;
                        gameState.totalAttempts = levelData.totalAttempts || 0;
                        gameState.correctAttempts = levelData.correctAttempts || 0;
                        gameState.history = levelData.history || [];
                    }
                } else {
                    // Initialiser les donn√©es pour ce joueur
                    gameState.progressData = {};
                }
            } else {
                // Initialiser les donn√©es globales
                gameState.progressData = {};
            }
        }

        // Sauvegarder les donn√©es de progression
        function saveProgressData() {
            // V√©rifier qu'un joueur est d√©fini
            if (!gameState.currentPlayer) {
                alert("Veuillez d'abord enregistrer votre nom");
                return;
            }
            
            // Charger toutes les donn√©es existantes
            let allProgressData = {};
            const savedData = localStorage.getItem('spellingGameProgress');
            if (savedData) {
                allProgressData = JSON.parse(savedData);
            }
            
            // Mettre √† jour les donn√©es pour le joueur actuel
            if (!allProgressData[gameState.currentPlayer]) {
                allProgressData[gameState.currentPlayer] = {};
            }
            
            // Mettre √† jour les donn√©es pour le niveau actuel
            if (!allProgressData[gameState.currentPlayer][gameState.currentLevel]) {
                allProgressData[gameState.currentPlayer][gameState.currentLevel] = {};
            }
            
            allProgressData[gameState.currentPlayer][gameState.currentLevel].score = gameState.score;
            allProgressData[gameState.currentPlayer][gameState.currentLevel].totalAttempts = gameState.totalAttempts;
            allProgressData[gameState.currentPlayer][gameState.currentLevel].correctAttempts = gameState.correctAttempts;
            allProgressData[gameState.currentPlayer][gameState.currentLevel].history = gameState.history;
            
            // Sauvegarder dans le localStorage
            localStorage.setItem('spellingGameProgress', JSON.stringify(allProgressData));
        }

        // Changer de niveau
        function onLevelChange() {
            gameState.currentLevel = levelSelect.value;
            
            // Charger les donn√©es pour ce niveau
            if (gameState.progressData[gameState.currentLevel]) {
                const levelData = gameState.progressData[gameState.currentLevel];
                gameState.score = levelData.score || 0;
                gameState.totalAttempts = levelData.totalAttempts || 0;
                gameState.correctAttempts = levelData.correctAttempts || 0;
                gameState.history = levelData.history || [];
            } else {
                // R√©initialiser pour un nouveau niveau
                gameState.score = 0;
                gameState.totalAttempts = 0;
                gameState.correctAttempts = 0;
                gameState.history = [];
            }
            
            updateLevelDisplay();
            updateScoreDisplay();
            updateStats();
            getNewWord();
        }

        // Obtenir un nouveau mot
        function getNewWord() {
            // V√©rifier qu'un joueur est d√©fini
            if (!gameState.currentPlayer) {
                alert("Veuillez d'abord enregistrer votre nom");
                return;
            }
            
            // R√©initialiser l'affichage
            spellingInput.value = "";
            resultMessage.textContent = "";
            resultMessage.className = "result-message";
            wordDisplay.textContent = "?";
            wordDisplay.classList.remove("revealed");
            
            // Choisir un livre
            let book;
            if (gameState.currentLevel === "random") {
                // S√©lectionner un livre au hasard
                const randomIndex = Math.floor(Math.random() * bibleBooks.length);
                book = bibleBooks[randomIndex];
            } else {
                book = gameState.currentLevel;
            }
            
            // Choisir un mot dans ce livre
            const words = spellingWords[book];
            if (words && words.length > 0) {
                const randomIndex = Math.floor(Math.random() * words.length);
                gameState.currentWord = words[randomIndex];
                gameState.currentWordBook = book;
            } else {
                wordDisplay.textContent = "Aucun mot disponible pour ce niveau";
            }
            
            // Focus sur le champ de saisie
            spellingInput.focus();
        }

        // V√©rifier l'orthographe
        function checkSpelling() {
            // V√©rifier qu'un joueur est d√©fini
            if (!gameState.currentPlayer) {
                alert("Veuillez d'abord enregistrer votre nom");
                return;
            }
            
            const userInput = spellingInput.value.trim();
            
            if (!userInput) {
                resultMessage.textContent = "Veuillez entrer une r√©ponse";
                resultMessage.className = "result-message error";
                return;
            }
            
            // V√©rifier la r√©ponse (insensible √† la casse et aux accents)
            const normalizedInput = userInput.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            const normalizedWord = gameState.currentWord.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            
            const isCorrect = normalizedInput === normalizedWord;
            
            // Mettre √† jour les statistiques
            gameState.totalAttempts++;
            if (isCorrect) {
                gameState.correctAttempts++;
                gameState.score += 10;
                resultMessage.textContent = "Correct !";
                resultMessage.className = "result-message success";
                wordDisplay.classList.add("revealed");
                
                // Passer automatiquement au mot suivant apr√®s 1.5 secondes
                setTimeout(() => {
                    getNewWord();
                }, 1500);
            } else {
                resultMessage.textContent = `Incorrect. La bonne r√©ponse √©tait : ${gameState.currentWord}`;
                resultMessage.className = "result-message error";
                wordDisplay.classList.add("revealed");
            }
            
            // Ajouter √† l'historique
            gameState.history.unshift({
                word: gameState.currentWord,
                userInput: userInput,
                isCorrect: isCorrect,
                book: gameState.currentWordBook,
                timestamp: new Date().toLocaleString()
            });
            
            // Limiter l'historique aux 10 derni√®res entr√©es
            if (gameState.history.length > 10) {
                gameState.history = gameState.history.slice(0, 10);
            }
            
            // Afficher le mot correct
            wordDisplay.textContent = gameState.currentWord;
            
            // Mettre √† jour l'affichage
            updateScoreDisplay();
            updateStats();
            
            // Sauvegarder les progr√®s
            saveProgressData();
        }

        // Fonction pour la synth√®se vocale
        function speakText(text, button) {
            // Arr√™ter la lecture pr√©c√©dente si elle existe
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                if (currentVoiceButton) {
                    currentVoiceButton.classList.remove('playing');
                }
            }

            // Cr√©er un nouvel objet de synth√®se vocale
            const utterance = new SpeechSynthesisUtterance(text);
            
            // Configurer la voix fran√ßaise
            utterance.lang = 'fr-FR';
            utterance.rate = 0.9;
            utterance.pitch = 1;
            utterance.volume = 1;

            // Ajouter l'ic√¥ne de lecture au bouton
            button.classList.add('playing');
            currentVoiceButton = button;

            // Quand la lecture commence
            utterance.onstart = function() {
                button.classList.add('playing');
            };

            // Quand la lecture se termine
            utterance.onend = function() {
                button.classList.remove('playing');
                currentVoiceButton = null;
            };

            // Quand il y a une erreur
            utterance.onerror = function() {
                button.classList.remove('playing');
                currentVoiceButton = null;
                alert('Erreur lors de la lecture vocale. V√©rifiez que votre navigateur supporte la synth√®se vocale.');
            };

            // Lancer la lecture
            window.speechSynthesis.speak(utterance);
        }

        // Lire le mot actuel
        function speakCurrentWord() {
            if (!gameState.currentWord) return;
            
            // Utiliser la nouvelle fonction de synth√®se vocale
            speakText(gameState.currentWord, listenBtn);
        }

        // Mettre √† jour l'affichage du score
        function updateScoreDisplay() {
            scoreDisplay.textContent = gameState.score;
            
            // Mettre √† jour la barre de progression
            const progressPercentage = Math.min(gameState.score / 100 * 100, 100);
            progressFill.style.width = `${progressPercentage}%`;
        }

        // Mettre √† jour l'affichage du niveau
        function updateLevelDisplay() {
            levelDisplay.textContent = gameState.currentLevel === "random" ? "Al√©atoire" : gameState.currentLevel;
        }

        // Mettre √† jour les statistiques
        function updateStats() {
            // Score total pour ce joueur
            let totalScoreValue = 0;
            let totalAttempts = 0;
            let totalCorrect = 0;
            
            if (gameState.progressData) {
                Object.values(gameState.progressData).forEach(levelData => {
                    totalScoreValue += levelData.score || 0;
                    totalAttempts += levelData.totalAttempts || 0;
                    totalCorrect += levelData.correctAttempts || 0;
                });
            }
            
            totalScore.textContent = totalScoreValue;
            
            // Meilleur niveau pour ce joueur
            let bestLevelValue = "-";
            let highestScore = 0;
            
            if (gameState.progressData) {
                Object.entries(gameState.progressData).forEach(([level, data]) => {
                    if (data.score > highestScore) {
                        highestScore = data.score;
                        bestLevelValue = level === "random" ? "Al√©atoire" : level;
                    }
                });
            }
            
            bestLevel.textContent = bestLevelValue;
            
            // Taux de r√©ussite global
            const successRateValue = totalAttempts > 0 
                ? Math.round((totalCorrect / totalAttempts) * 100) 
                : 0;
            successRate.textContent = `${successRateValue}%`;
            
            // Compteurs de r√©ussites et √©checs pour le niveau actuel
            successCount.textContent = gameState.correctAttempts;
            failureCount.textContent = gameState.totalAttempts - gameState.correctAttempts;
            
            // Historique
            historyList.innerHTML = "";
            gameState.history.forEach(item => {
                const li = document.createElement('li');
                li.className = `history-item ${item.isCorrect ? 'correct' : 'incorrect'}`;
                li.innerHTML = `
                    <span>${item.word}</span>
                    <span>${item.isCorrect ? '‚úì' : '‚úó'}</span>
                `;
                historyList.appendChild(li);
            });
        }

        // Basculer entre les th√®mes clair et sombre
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            themeToggle.textContent = newTheme === 'light' ? '' : '';
            
            localStorage.setItem('spellingGameTheme', newTheme);
        }

        // V√©rifier la compatibilit√© avec la synth√®se vocale
        if (!('speechSynthesis' in window)) {
            console.warn('Votre navigateur ne supporte pas la synth√®se vocale');
        }

        // Initialiser le jeu au chargement de la page
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
